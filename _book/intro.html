<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction to R | Beyes R Book</title>
  <meta name="description" content="This book is a R guide book for UA course BER 695: Introduction to Bayesian Analysis." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction to R | Beyes R Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book is a R guide book for UA course BER 695: Introduction to Bayesian Analysis." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction to R | Beyes R Book" />
  
  <meta name="twitter:description" content="This book is a R guide book for UA course BER 695: Introduction to Bayesian Analysis." />
  

<meta name="author" content="Dr. Man Kai Wen &amp; Cheng Hua" />


<meta name="date" content="2021-08-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="Prob.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Beyes R Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to the Course</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#part-1-vector"><i class="fa fa-check"></i><b>2.1</b> Part 1: Vector</a><ul>
<li class="chapter" data-level="2.1.1" data-path="intro.html"><a href="intro.html#numbers"><i class="fa fa-check"></i><b>2.1.1</b> Numbers</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro.html"><a href="intro.html#strings-nominal"><i class="fa fa-check"></i><b>2.1.2</b> Strings (nominal)</a></li>
<li class="chapter" data-level="2.1.3" data-path="intro.html"><a href="intro.html#logical"><i class="fa fa-check"></i><b>2.1.3</b> Logical</a></li>
<li class="chapter" data-level="2.1.4" data-path="intro.html"><a href="intro.html#generate-a-sequence-of-numbers"><i class="fa fa-check"></i><b>2.1.4</b> Generate a sequence of numbers</a></li>
<li class="chapter" data-level="2.1.5" data-path="intro.html"><a href="intro.html#replicate-values"><i class="fa fa-check"></i><b>2.1.5</b> Replicate values</a></li>
<li class="chapter" data-level="2.1.6" data-path="intro.html"><a href="intro.html#practice-questions"><i class="fa fa-check"></i><b>2.1.6</b> Practice Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#part-2-basic-statistical-analysis"><i class="fa fa-check"></i><b>2.2</b> Part 2: Basic Statistical Analysis</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#buiding-a-simulated-data-set"><i class="fa fa-check"></i><b>2.2.1</b> Buiding a simulated data set</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#basic-statistical-function"><i class="fa fa-check"></i><b>2.2.2</b> Basic Statistical function</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro.html"><a href="intro.html#practice-questions-1"><i class="fa fa-check"></i><b>2.2.3</b> Practice Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#part-3-matrix-computation"><i class="fa fa-check"></i><b>2.3</b> Part 3: Matrix Computation</a><ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#build-a-matrix"><i class="fa fa-check"></i><b>2.3.1</b> Build a matrix</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro.html"><a href="intro.html#define-a-matrix"><i class="fa fa-check"></i><b>2.3.2</b> Define a matrix</a></li>
<li class="chapter" data-level="2.3.3" data-path="intro.html"><a href="intro.html#name-the-rowscolumns"><i class="fa fa-check"></i><b>2.3.3</b> Name the rows/columns</a></li>
<li class="chapter" data-level="2.3.4" data-path="intro.html"><a href="intro.html#operation-on-matrix"><i class="fa fa-check"></i><b>2.3.4</b> Operation on matrix</a></li>
<li class="chapter" data-level="2.3.5" data-path="intro.html"><a href="intro.html#glue-vectors-together"><i class="fa fa-check"></i><b>2.3.5</b> Glue vectors together</a></li>
<li class="chapter" data-level="2.3.6" data-path="intro.html"><a href="intro.html#inverse-the-matrix"><i class="fa fa-check"></i><b>2.3.6</b> Inverse the matrix</a></li>
<li class="chapter" data-level="2.3.7" data-path="intro.html"><a href="intro.html#practice-questions-2"><i class="fa fa-check"></i><b>2.3.7</b> Practice Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#part-4-data-manipulation"><i class="fa fa-check"></i><b>2.4</b> Part 4: Data Manipulation</a><ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#load-the-data"><i class="fa fa-check"></i><b>2.4.1</b> Load the Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#select-specific-data"><i class="fa fa-check"></i><b>2.4.2</b> Select Specific Data</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#correlation-and-covariate-matrix"><i class="fa fa-check"></i><b>2.4.3</b> Correlation and Covariate Matrix</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#matrix-diagonals"><i class="fa fa-check"></i><b>2.4.4</b> Matrix Diagonals</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#practice-questions-3"><i class="fa fa-check"></i><b>2.4.5</b> Practice Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#part-5-factor-list-and-dataframe"><i class="fa fa-check"></i><b>2.5</b> Part 5: Factor, List, and Dataframe</a><ul>
<li class="chapter" data-level="2.5.1" data-path="intro.html"><a href="intro.html#factors"><i class="fa fa-check"></i><b>2.5.1</b> Factors</a></li>
<li class="chapter" data-level="2.5.2" data-path="intro.html"><a href="intro.html#building-a-list"><i class="fa fa-check"></i><b>2.5.2</b> Building a list</a></li>
<li class="chapter" data-level="2.5.3" data-path="intro.html"><a href="intro.html#building-a-dataframe"><i class="fa fa-check"></i><b>2.5.3</b> Building a Dataframe</a></li>
<li class="chapter" data-level="2.5.4" data-path="intro.html"><a href="intro.html#indexing-subsetting-dataset"><i class="fa fa-check"></i><b>2.5.4</b> Indexing (subsetting) Dataset</a></li>
<li class="chapter" data-level="2.5.5" data-path="intro.html"><a href="intro.html#more-examples-on-indexing-dataset"><i class="fa fa-check"></i><b>2.5.5</b> More examples on indexing dataset</a></li>
<li class="chapter" data-level="2.5.6" data-path="intro.html"><a href="intro.html#subset-and-transform-data"><i class="fa fa-check"></i><b>2.5.6</b> Subset and transform data</a></li>
<li class="chapter" data-level="2.5.7" data-path="intro.html"><a href="intro.html#practice-questions-4"><i class="fa fa-check"></i><b>2.5.7</b> Practice Questions</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#part-6-conditional-statement"><i class="fa fa-check"></i><b>2.6</b> Part 6: conditional statement</a><ul>
<li class="chapter" data-level="2.6.1" data-path="intro.html"><a href="intro.html#if-statement"><i class="fa fa-check"></i><b>2.6.1</b> if statement</a></li>
<li class="chapter" data-level="2.6.2" data-path="intro.html"><a href="intro.html#more-example"><i class="fa fa-check"></i><b>2.6.2</b> More Example</a></li>
<li class="chapter" data-level="2.6.3" data-path="intro.html"><a href="intro.html#the-else-statement"><i class="fa fa-check"></i><b>2.6.3</b> The <code>else</code> statement</a></li>
<li class="chapter" data-level="2.6.4" data-path="intro.html"><a href="intro.html#the-else-if-statement"><i class="fa fa-check"></i><b>2.6.4</b> The <code>else if</code> statement</a></li>
<li class="chapter" data-level="2.6.5" data-path="intro.html"><a href="intro.html#one-line-ifelse"><i class="fa fa-check"></i><b>2.6.5</b> One Line If…Else</a></li>
<li class="chapter" data-level="2.6.6" data-path="intro.html"><a href="intro.html#the-ifelse-function"><i class="fa fa-check"></i><b>2.6.6</b> The ifelse() Function</a></li>
<li class="chapter" data-level="2.6.7" data-path="intro.html"><a href="intro.html#r-switch-function"><i class="fa fa-check"></i><b>2.6.7</b> R switch() function</a></li>
<li class="chapter" data-level="2.6.8" data-path="intro.html"><a href="intro.html#use-for-loop"><i class="fa fa-check"></i><b>2.6.8</b> Use “for” loop</a></li>
<li class="chapter" data-level="2.6.9" data-path="intro.html"><a href="intro.html#r-repeat-loop"><i class="fa fa-check"></i><b>2.6.9</b> R Repeat Loop</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#part-7-r-functions"><i class="fa fa-check"></i><b>2.7</b> Part 7: R functions</a><ul>
<li class="chapter" data-level="2.7.1" data-path="intro.html"><a href="intro.html#make-a-function-in-r"><i class="fa fa-check"></i><b>2.7.1</b> Make a function in R</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#part-8-splitting-data-implicit-loops"><i class="fa fa-check"></i><b>2.8</b> Part 8: Splitting data &amp; implicit loops</a><ul>
<li class="chapter" data-level="2.8.1" data-path="intro.html"><a href="intro.html#splitting-the-data"><i class="fa fa-check"></i><b>2.8.1</b> Splitting the data</a></li>
<li class="chapter" data-level="2.8.2" data-path="intro.html"><a href="intro.html#function-apply"><i class="fa fa-check"></i><b>2.8.2</b> Function “apply”</a></li>
<li class="chapter" data-level="2.8.3" data-path="intro.html"><a href="intro.html#another-example"><i class="fa fa-check"></i><b>2.8.3</b> Another example</a></li>
<li class="chapter" data-level="2.8.4" data-path="intro.html"><a href="intro.html#use-function-lapply"><i class="fa fa-check"></i><b>2.8.4</b> Use function “lapply”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Prob.html"><a href="Prob.html"><i class="fa fa-check"></i><b>3</b> Introduction/Interpretation to Probability</a><ul>
<li class="chapter" data-level="3.1" data-path="Prob.html"><a href="Prob.html#discrete-distribution-variables"><i class="fa fa-check"></i><b>3.1</b> Discrete Distribution Variables</a><ul>
<li class="chapter" data-level="3.1.1" data-path="Prob.html"><a href="Prob.html#bernoulli-distribution"><i class="fa fa-check"></i><b>3.1.1</b> Bernoulli Distribution</a></li>
<li class="chapter" data-level="3.1.2" data-path="Prob.html"><a href="Prob.html#binomial-distribution"><i class="fa fa-check"></i><b>3.1.2</b> Binomial Distribution</a></li>
<li class="chapter" data-level="3.1.3" data-path="Prob.html"><a href="Prob.html#negative-binomial-distribution"><i class="fa fa-check"></i><b>3.1.3</b> Negative Binomial Distribution</a></li>
<li class="chapter" data-level="3.1.4" data-path="Prob.html"><a href="Prob.html#poisson-distribution"><i class="fa fa-check"></i><b>3.1.4</b> Poisson Distribution</a></li>
<li class="chapter" data-level="3.1.5" data-path="Prob.html"><a href="Prob.html#multinomial-distribution"><i class="fa fa-check"></i><b>3.1.5</b> Multinomial Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Prob.html"><a href="Prob.html#continuous-random-variables"><i class="fa fa-check"></i><b>3.2</b> Continuous Random variables</a><ul>
<li class="chapter" data-level="3.2.1" data-path="Prob.html"><a href="Prob.html#normal-distribution"><i class="fa fa-check"></i><b>3.2.1</b> Normal Distribution</a></li>
<li class="chapter" data-level="3.2.2" data-path="Prob.html"><a href="Prob.html#bivariatemultivariate-normal-distribution"><i class="fa fa-check"></i><b>3.2.2</b> Bivariate/Multivariate normal distribution</a></li>
<li class="chapter" data-level="3.2.3" data-path="Prob.html"><a href="Prob.html#wishartinverse-wishart-normal-distribution"><i class="fa fa-check"></i><b>3.2.3</b> Wishart/Inverse Wishart normal distribution</a></li>
<li class="chapter" data-level="3.2.4" data-path="Prob.html"><a href="Prob.html#uniform-distribution"><i class="fa fa-check"></i><b>3.2.4</b> Uniform Distribution</a></li>
<li class="chapter" data-level="3.2.5" data-path="Prob.html"><a href="Prob.html#gamma-distribution"><i class="fa fa-check"></i><b>3.2.5</b> Gamma Distribution</a></li>
<li class="chapter" data-level="3.2.6" data-path="Prob.html"><a href="Prob.html#inverse-gamma-distribution"><i class="fa fa-check"></i><b>3.2.6</b> Inverse Gamma Distribution</a></li>
<li class="chapter" data-level="3.2.7" data-path="Prob.html"><a href="Prob.html#chi-squared-distribution"><i class="fa fa-check"></i><b>3.2.7</b> Chi-squared Distribution</a></li>
<li class="chapter" data-level="3.2.8" data-path="Prob.html"><a href="Prob.html#t-distribution"><i class="fa fa-check"></i><b>3.2.8</b> T-Distribution</a></li>
<li class="chapter" data-level="3.2.9" data-path="Prob.html"><a href="Prob.html#f-distribution"><i class="fa fa-check"></i><b>3.2.9</b> F-Distribution</a></li>
<li class="chapter" data-level="3.2.10" data-path="Prob.html"><a href="Prob.html#cauchy-distribution"><i class="fa fa-check"></i><b>3.2.10</b> Cauchy Distribution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html"><i class="fa fa-check"></i><b>4</b> Introduction to Bayesian Inference</a><ul>
<li class="chapter" data-level="4.1" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#install-the-jags-for-r"><i class="fa fa-check"></i><b>4.1</b> Install the JAGS for R</a><ul>
<li class="chapter" data-level="4.1.1" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#install-jags"><i class="fa fa-check"></i><b>4.1.1</b> Install JAGS</a></li>
<li class="chapter" data-level="4.1.2" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#install-package-rjags"><i class="fa fa-check"></i><b>4.1.2</b> Install Package rjags</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#bernoulli-and-binomial-distributions-in-jags"><i class="fa fa-check"></i><b>4.2</b> Bernoulli and Binomial Distributions in JAGS</a><ul>
<li class="chapter" data-level="4.2.1" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#set-the-working-directory"><i class="fa fa-check"></i><b>4.2.1</b> Set the working directory</a></li>
<li class="chapter" data-level="4.2.2" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#define-the-model-and-write-out-the-code"><i class="fa fa-check"></i><b>4.2.2</b> Define the Model and Write out the code</a></li>
<li class="chapter" data-level="4.2.3" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#model-specification"><i class="fa fa-check"></i><b>4.2.3</b> Model Specification</a></li>
<li class="chapter" data-level="4.2.4" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#model-results"><i class="fa fa-check"></i><b>4.2.4</b> Model Results</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#beta-distribution-in-jags"><i class="fa fa-check"></i><b>4.3</b> Beta Distribution in JAGS</a><ul>
<li class="chapter" data-level="4.3.1" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#set-the-working-directory-1"><i class="fa fa-check"></i><b>4.3.1</b> Set the working directory</a></li>
<li class="chapter" data-level="4.3.2" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#define-the-model-and-write-out-the-code-1"><i class="fa fa-check"></i><b>4.3.2</b> Define the Model and Write out the code</a></li>
<li class="chapter" data-level="4.3.3" data-path="Bayes-Inf.html"><a href="Bayes-Inf.html#model-specification-1"><i class="fa fa-check"></i><b>4.3.3</b> Model Specification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Posterior.html"><a href="Posterior.html"><i class="fa fa-check"></i><b>5</b> Summarizing Posterior Distributions</a></li>
<li class="chapter" data-level="6" data-path="Gra-Model.html"><a href="Gra-Model.html"><i class="fa fa-check"></i><b>6</b> Introduction to Graphical Models</a></li>
<li class="chapter" data-level="7" data-path="Bayes-Theorem.html"><a href="Bayes-Theorem.html"><i class="fa fa-check"></i><b>7</b> Bayes’ Theorem: Accumulation of Evidence</a></li>
<li class="chapter" data-level="8" data-path="Normal-Dis.html"><a href="Normal-Dis.html"><i class="fa fa-check"></i><b>8</b> Normal Distribution Models</a></li>
<li class="chapter" data-level="9" data-path="MCMC.html"><a href="MCMC.html"><i class="fa fa-check"></i><b>9</b> Markov Chain Monte Carlo: A Practical Introduction</a></li>
<li class="chapter" data-level="10" data-path="Bayes-Reg.html"><a href="Bayes-Reg.html"><i class="fa fa-check"></i><b>10</b> Bayesian based Regression Models</a></li>
<li class="chapter" data-level="11" data-path="Specify-Prior.html"><a href="Specify-Prior.html"><i class="fa fa-check"></i><b>11</b> Strategies for Specifying prior distributions</a></li>
<li class="chapter" data-level="12" data-path="Post-Pred.html"><a href="Post-Pred.html"><i class="fa fa-check"></i><b>12</b> Posterior Predictive Model Checking</a></li>
<li class="chapter" data-level="13" data-path="Model-Comp.html"><a href="Model-Comp.html"><i class="fa fa-check"></i><b>13</b> Model Comparison</a></li>
<li class="chapter" data-level="14" data-path="Adv-Bayes.html"><a href="Adv-Bayes.html"><i class="fa fa-check"></i><b>14</b> Advance Bayesian Models</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Beyes R Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Introduction to R</h1>
<div id="part-1-vector" class="section level2">
<h2><span class="header-section-number">2.1</span> Part 1: Vector</h2>
<p>Define variable / vector</p>
<div id="numbers" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Numbers</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Type in a numerical data, assign them to the variable: weight</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">weight =<span class="st"> </span><span class="kw">c</span>(<span class="dv">60</span>,<span class="dv">72</span>,<span class="dv">57</span>,<span class="dv">90</span>,<span class="dv">95</span>,<span class="dv">72</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># Print out the variable</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">weight</a></code></pre></div>
<pre><code>## [1] 60 72 57 90 95 72</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># You can also type in decimals</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">height =<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.75</span>,<span class="fl">1.80</span>,<span class="fl">1.65</span>,<span class="fl">1.90</span>,<span class="fl">1.74</span>,<span class="fl">1.91</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># Or even formulas, assign to the variable.</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">bmi =<span class="st"> </span>weight<span class="op">/</span>(height)<span class="op">^</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">bmi</a></code></pre></div>
<pre><code>## [1] 19.59184 22.22222 20.93664 24.93075 31.37799 19.73630</code></pre>
</div>
<div id="strings-nominal" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Strings (nominal)</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Characters between the quotation marks are consider strings</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">A =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;NewYork&quot;</span>,<span class="st">&quot;London&quot;</span>,<span class="st">&quot;San Francisco&quot;</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">A</a></code></pre></div>
<pre><code>## [1] &quot;NewYork&quot;       &quot;London&quot;        &quot;San Francisco&quot;</code></pre>
</div>
<div id="logical" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Logical</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># A logical vector is a vector that only contains TRUE and FALSE values. In R, true values are designated with TRUE, and false values with FALSE.</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">B=<span class="kw">c</span>(T,T,F,F)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">B</a></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">bmi <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>  <span class="co"># relational expressions</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE  TRUE FALSE</code></pre>
</div>
<div id="generate-a-sequence-of-numbers" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Generate a sequence of numbers</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">9</span>) <span class="co">#sequence from 4 to 9, increment defaults to 1, alternatively, 4:9</span></a></code></pre></div>
<pre><code>## [1] 4 5 6 7 8 9</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">4</span>,<span class="dv">10</span>,<span class="dv">2</span>) <span class="co">#sequence from 4 to 10, increment is 2</span></a></code></pre></div>
<pre><code>## [1]  4  6  8 10</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>,.<span class="dv">1</span>) <span class="co">#sequence from 1 to 10, increment is .1</span></a></code></pre></div>
<pre><code>##  [1]  1.0  1.1  1.2  1.3  1.4  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3  2.4
## [16]  2.5  2.6  2.7  2.8  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7  3.8  3.9
## [31]  4.0  4.1  4.2  4.3  4.4  4.5  4.6  4.7  4.8  4.9  5.0  5.1  5.2  5.3  5.4
## [46]  5.5  5.6  5.7  5.8  5.9  6.0  6.1  6.2  6.3  6.4  6.5  6.6  6.7  6.8  6.9
## [61]  7.0  7.1  7.2  7.3  7.4  7.5  7.6  7.7  7.8  7.9  8.0  8.1  8.2  8.3  8.4
## [76]  8.5  8.6  8.7  8.8  8.9  9.0  9.1  9.2  9.3  9.4  9.5  9.6  9.7  9.8  9.9
## [91] 10.0</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">seq</span>(<span class="op">-</span><span class="dv">8</span>,<span class="dv">9</span>,.<span class="dv">5</span>) <span class="co">#sequence from -8 to 9, increment is .5</span></a></code></pre></div>
<pre><code>##  [1] -8.0 -7.5 -7.0 -6.5 -6.0 -5.5 -5.0 -4.5 -4.0 -3.5 -3.0 -2.5 -2.0 -1.5 -1.0
## [16] -0.5  0.0  0.5  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5
## [31]  7.0  7.5  8.0  8.5  9.0</code></pre>
</div>
<div id="replicate-values" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Replicate values</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">exp1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>) <span class="co">#create a vector named as exp1</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">rep</span>(exp1,<span class="dv">3</span>) <span class="co">#repeat 3 times </span></a></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">ha=<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="st">&quot;sun&quot;</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">rep</span>(ha,<span class="dv">4</span>) <span class="co">#repeat &quot;ha&quot; four times</span></a></code></pre></div>
<pre><code>##  [1] &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;sun&quot; &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;sun&quot; &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;sun&quot;
## [13] &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;sun&quot;</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">rep</span>(ha,<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) <span class="co">#each element is repeated different times, according to the second argument</span></a></code></pre></div>
<pre><code>##  [1] &quot;1&quot;   &quot;2&quot;   &quot;2&quot;   &quot;3&quot;   &quot;3&quot;   &quot;3&quot;   &quot;sun&quot; &quot;sun&quot; &quot;sun&quot; &quot;sun&quot;</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">rep</span>(<span class="dv">3</span><span class="op">:</span><span class="dv">4</span>,<span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">200</span>)) <span class="co">#the first element repeat 100 time, the second 200 times</span></a></code></pre></div>
<pre><code>##   [1] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
##  [38] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
##  [75] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4
## [112] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [149] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [186] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [223] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [260] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [297] 4 4 4 4</code></pre>
</div>
<div id="practice-questions" class="section level3">
<h3><span class="header-section-number">2.1.6</span> Practice Questions</h3>
<div id="question-1" class="section level4">
<h4><span class="header-section-number">2.1.6.1</span> Question 1</h4>
<p>Create a sequence (name it with your first name) ranging from 1 to 100, increment is 1</p>
</div>
<div id="question-2" class="section level4">
<h4><span class="header-section-number">2.1.6.2</span> Question 2</h4>
<p>Repeat the sequence just created 3 times</p>
</div>
<div id="question-3" class="section level4">
<h4><span class="header-section-number">2.1.6.3</span> Question 3</h4>
<p>Calculate the ratios between the two variables as last/first, and multiply by 2.</p>
</div>
</div>
</div>
<div id="part-2-basic-statistical-analysis" class="section level2">
<h2><span class="header-section-number">2.2</span> Part 2: Basic Statistical Analysis</h2>
<div id="buiding-a-simulated-data-set" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Buiding a simulated data set</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># We use the following functions to build a simulated data set.</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">ACT_score &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dt">n=</span><span class="dv">100</span>,<span class="dt">min=</span><span class="dv">18</span>,<span class="dt">max=</span><span class="dv">25</span>),<span class="dv">0</span>)</a></code></pre></div>
</div>
<div id="basic-statistical-function" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Basic Statistical function</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># calculate summation</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="kw">sum</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 2147</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># calculate average score</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="kw">mean</span>(ACT_score)</a></code></pre></div>
<pre><code>## [1] 21.47</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># calculate median score</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="kw">median</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 21</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># calculate variance</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="kw">var</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 4.554646</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="co"># calculate standard deviation</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="kw">sd</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 2.134162</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># print vector length (sample size)</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">length</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="co"># calculate square root of each number</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="kw">sqrt</span>(ACT_score) </a></code></pre></div>
<pre><code>##   [1] 4.472136 4.898979 4.898979 4.795832 4.582576 4.472136 4.472136 4.898979
##   [9] 4.795832 5.000000 4.690416 4.358899 4.582576 4.690416 4.898979 4.795832
##  [17] 4.472136 4.582576 4.472136 4.898979 4.582576 4.690416 4.472136 4.242641
##  [25] 4.898979 4.582576 4.795832 4.582576 4.898979 4.358899 4.358899 4.795832
##  [33] 5.000000 5.000000 4.472136 4.898979 4.472136 4.472136 4.795832 4.582576
##  [41] 4.358899 4.690416 4.358899 4.582576 4.898979 4.472136 4.582576 4.242641
##  [49] 4.582576 4.242641 4.582576 4.898979 4.472136 4.795832 4.582576 5.000000
##  [57] 4.242641 4.242641 4.582576 4.898979 5.000000 4.358899 4.472136 4.690416
##  [65] 4.795832 4.690416 4.472136 4.242641 4.898979 4.472136 4.582576 4.358899
##  [73] 4.472136 4.690416 4.358899 4.582576 4.358899 4.690416 4.472136 4.472136
##  [81] 4.795832 4.242641 4.472136 4.898979 5.000000 4.472136 4.472136 5.000000
##  [89] 4.358899 5.000000 4.472136 4.795832 5.000000 4.358899 5.000000 4.898979
##  [97] 4.472136 4.582576 4.472136 4.898979</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="co">#--with NA, print order of each number in the vector</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="kw">order</span>(ACT_score)    </a></code></pre></div>
<pre><code>##   [1]  24  48  50  57  58  68  82  12  30  31  41  43  62  72  75  77  89  94
##  [19]   1   6   7  17  19  23  35  37  38  46  53  63  67  70  73  79  80  83
##  [37]  86  87  91  97  99   5  13  18  21  26  28  40  44  47  49  51  55  59
##  [55]  71  76  98  11  14  22  42  64  66  74  78   4   9  16  27  32  39  54
##  [73]  65  81  92   2   3   8  15  20  25  29  36  45  52  60  69  84  96 100
##  [91]  10  33  34  56  61  85  88  90  93  95</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="co"># calculate range of the vector</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">range</span>(ACT_score) </a></code></pre></div>
<pre><code>## [1] 18 25</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="co">#--omit NA, sort date from low to hight</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="kw">sort</span>(ACT_score)  </a></code></pre></div>
<pre><code>##   [1] 18 18 18 18 18 18 18 19 19 19 19 19 19 19 19 19 19 19 20 20 20 20 20 20 20
##  [26] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 21 21 21 21 21 21 21 21 21
##  [51] 21 21 21 21 21 21 21 22 22 22 22 22 22 22 22 23 23 23 23 23 23 23 23 23 23
##  [76] 24 24 24 24 24 24 24 24 24 24 24 24 24 24 24 25 25 25 25 25 25 25 25 25 25</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="co">#--make a table of counts</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="kw">table</span>(ACT_score)  </a></code></pre></div>
<pre><code>## ACT_score
## 18 19 20 21 22 23 24 25 
##  7 11 23 16  8 10 15 10</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="co">#-- Using the function &quot;describe&quot; from the &quot;psych&quot; package. Please attach the psych package</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="kw">library</span>(psych)</a></code></pre></div>
<pre><code>## Warning: package &#39;psych&#39; was built under R version 4.0.2</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">describe</span>(ACT_score)</a></code></pre></div>
<pre><code>##    vars   n  mean   sd median trimmed  mad min max range skew kurtosis   se
## X1    1 100 21.47 2.13     21   21.42 2.97  18  25     7 0.19    -1.19 0.21</code></pre>
</div>
<div id="practice-questions-1" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Practice Questions</h3>
<p>Use the Data set bellow:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">GRE_score &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">250</span>,<span class="dv">130</span>,<span class="dv">170</span>),<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2">?runif</a></code></pre></div>
<div id="question-1-1" class="section level4">
<h4><span class="header-section-number">2.2.3.1</span> Question 1</h4>
<p>Report summation of all reported scores.</p>
</div>
<div id="question-2-1" class="section level4">
<h4><span class="header-section-number">2.2.3.2</span> Question 2</h4>
<p>Report average score based on all reported scores</p>
</div>
<div id="question-3-1" class="section level4">
<h4><span class="header-section-number">2.2.3.3</span> Question 3</h4>
<p>Report median score based on all reported scores</p>
</div>
<div id="question-4" class="section level4">
<h4><span class="header-section-number">2.2.3.4</span> Question 4</h4>
<p>Report variance of all reported scores</p>
</div>
<div id="question-5" class="section level4">
<h4><span class="header-section-number">2.2.3.5</span> Question 5</h4>
<p>Reorder all scores</p>
</div>
<div id="question-6" class="section level4">
<h4><span class="header-section-number">2.2.3.6</span> Question 6</h4>
<p>Build a table of counts of each score</p>
</div>
</div>
</div>
<div id="part-3-matrix-computation" class="section level2">
<h2><span class="header-section-number">2.3</span> Part 3: Matrix Computation</h2>
<div id="build-a-matrix" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Build a matrix</h3>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">x=<span class="dv">1</span><span class="op">:</span><span class="dv">12</span> </a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="co">#set the dimension of the matrix</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="kw">dim</span>(x)=<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>) <span class="co">#three rows and four cols </span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4">x</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12</code></pre>
</div>
<div id="define-a-matrix" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Define a matrix</h3>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="co"># Different from the above matrix, we define a matrix use matrix function</span></a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>,<span class="dt">nrow=</span><span class="dv">3</span>,<span class="dt">byrow=</span>T) </a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    5    6    7    8
## [3,]    9   10   11   12</code></pre>
</div>
<div id="name-the-rowscolumns" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Name the rows/columns</h3>
<p>rownames(); colnames()—-can be used to a data matrix</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1">x=<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">nrow=</span><span class="dv">3</span>,<span class="dt">byrow=</span>T)</a>
<a class="sourceLine" id="cb59-2" data-line-number="2">x</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    2    3    4
## [2,]    5    6    7    8
## [3,]    9   10   11   12</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">rownames</span>(x)=LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="kw">colnames</span>(x)=LETTERS[<span class="dv">4</span><span class="op">:</span><span class="dv">7</span>]</a>
<a class="sourceLine" id="cb61-3" data-line-number="3">x</a></code></pre></div>
<pre><code>##   D  E  F  G
## A 1  2  3  4
## B 5  6  7  8
## C 9 10 11 12</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">colnames</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gpa&quot;</span>,<span class="st">&quot;quiz1&quot;</span>,<span class="st">&quot;quiz2&quot;</span>,<span class="st">&quot;final&quot;</span>)</a>
<a class="sourceLine" id="cb63-2" data-line-number="2">x</a></code></pre></div>
<pre><code>##   gpa quiz1 quiz2 final
## A   1     2     3     4
## B   5     6     7     8
## C   9    10    11    12</code></pre>
</div>
<div id="operation-on-matrix" class="section level3">
<h3><span class="header-section-number">2.3.4</span> Operation on matrix</h3>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="co"># The transpose of a matrix is simply a flipped version of the original matrix. We can transpose a matrix by switching its rows with its columns.  </span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="kw">t</span>(x)</a></code></pre></div>
<pre><code>##       A B  C
## gpa   1 5  9
## quiz1 2 6 10
## quiz2 3 7 11
## final 4 8 12</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="co">#multiply two matrix, if they are conformable</span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2">x<span class="op">%*%</span><span class="kw">t</span>(x) <span class="co">#check the dimensions  </span></a></code></pre></div>
<pre><code>##     A   B   C
## A  30  70 110
## B  70 174 278
## C 110 278 446</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="kw">t</span>(x)<span class="op">%*%</span>x</a></code></pre></div>
<pre><code>##       gpa quiz1 quiz2 final
## gpa   107   122   137   152
## quiz1 122   140   158   176
## quiz2 137   158   179   200
## final 152   176   200   224</code></pre>
</div>
<div id="glue-vectors-together" class="section level3">
<h3><span class="header-section-number">2.3.5</span> Glue vectors together</h3>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="co"># Using cbind() function to combine columns</span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="kw">cbind</span>(<span class="dt">A=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,<span class="dt">B=</span><span class="dv">5</span><span class="op">:</span><span class="dv">8</span>,<span class="dt">C=</span><span class="dv">9</span><span class="op">:</span><span class="dv">12</span>)</a></code></pre></div>
<pre><code>##      A B  C
## [1,] 1 5  9
## [2,] 2 6 10
## [3,] 3 7 11
## [4,] 4 8 12</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="co"># Using rbind() function to combine rows</span></a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="kw">rbind</span>(<span class="dt">A=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>,<span class="dt">B=</span><span class="dv">5</span><span class="op">:</span><span class="dv">8</span>,<span class="dt">C=</span><span class="dv">9</span><span class="op">:</span><span class="dv">12</span>)</a></code></pre></div>
<pre><code>##   [,1] [,2] [,3] [,4]
## A    1    2    3    4
## B    5    6    7    8
## C    9   10   11   12</code></pre>
</div>
<div id="inverse-the-matrix" class="section level3">
<h3><span class="header-section-number">2.3.6</span> Inverse the matrix</h3>
<p>The inverse of a square matrix A, sometimes called a reciprocal matrix, is a matrix <span class="math inline">\(A^{-1}\)</span> such that <span class="math inline">\(AA^{-1}=I\)</span> , where <span class="math inline">\(I\)</span> is the identity matrix.</p>
<p>[C] The fractions() need load “MASS” Package.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="co"># Load the package &quot;MASS&quot; to use the fractions function</span></a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="kw">library</span>(MASS)</a></code></pre></div>
<pre><code>## Warning: package &#39;MASS&#39; was built under R version 4.0.2</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="co"># Build a square matrix A. </span></a>
<a class="sourceLine" id="cb77-2" data-line-number="2">A &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>), <span class="dt">nrow=</span><span class="dv">2</span>,<span class="dt">byrow=</span>T)</a>
<a class="sourceLine" id="cb77-3" data-line-number="3"><span class="co"># Print out</span></a>
<a class="sourceLine" id="cb77-4" data-line-number="4">A </a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    2    3
## [2,]    2    2</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="co">#inverse the matrix       </span></a>
<a class="sourceLine" id="cb79-2" data-line-number="2">inv_A &lt;-<span class="st"> </span><span class="kw">solve</span>(A,<span class="dt">tol=</span><span class="fl">1e-19</span>)</a>
<a class="sourceLine" id="cb79-3" data-line-number="3"></a>
<a class="sourceLine" id="cb79-4" data-line-number="4"><span class="co">#round              </span></a>
<a class="sourceLine" id="cb79-5" data-line-number="5"><span class="kw">round</span>(<span class="kw">solve</span>(A,<span class="dt">tol=</span><span class="fl">1e-19</span>),<span class="dv">3</span>) <span class="co">#to the third digits</span></a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   -1  1.5
## [2,]    1 -1.0</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="co">#show as rationals  </span></a>
<a class="sourceLine" id="cb81-2" data-line-number="2"><span class="kw">fractions</span>(<span class="kw">solve</span>(A,<span class="dt">tol=</span><span class="fl">1e-19</span>))</a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]  -1  3/2 
## [2,]   1   -1</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="co"># Ax=b: solve(A,b)</span></a>
<a class="sourceLine" id="cb83-2" data-line-number="2"><span class="co"># create an Identity matrix</span></a>
<a class="sourceLine" id="cb83-3" data-line-number="3">ident_matrix &lt;-<span class="st"> </span><span class="kw">diag</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb83-4" data-line-number="4"><span class="kw">solve</span>(A,<span class="kw">diag</span>(<span class="dv">2</span>))</a></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   -1  1.5
## [2,]    1 -1.0</code></pre>
</div>
<div id="practice-questions-2" class="section level3">
<h3><span class="header-section-number">2.3.7</span> Practice Questions</h3>
<div id="question-1-2" class="section level4">
<h4><span class="header-section-number">2.3.7.1</span> Question 1</h4>
<p>Create a 2 by 2 matrix named “MM” with c(1,5,9,10) arranged by row</p>
</div>
<div id="question-2-2" class="section level4">
<h4><span class="header-section-number">2.3.7.2</span> Question 2</h4>
<p>Please inverse the matrix “MM”, name it as MM-T</p>
</div>
<div id="question-3-2" class="section level4">
<h4><span class="header-section-number">2.3.7.3</span> Question 3</h4>
<p>Multiply the two matrices “MM” %*% “MM-T”, and show the result</p>
</div>
</div>
</div>
<div id="part-4-data-manipulation" class="section level2">
<h2><span class="header-section-number">2.4</span> Part 4: Data Manipulation</h2>
<div id="load-the-data" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Load the Data</h3>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="co"># Load the package for illustrations</span></a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="kw">library</span>(car)</a></code></pre></div>
<pre><code>## Warning: package &#39;car&#39; was built under R version 4.0.2</code></pre>
<pre><code>## Loading required package: carData</code></pre>
<pre><code>## Warning: package &#39;carData&#39; was built under R version 4.0.2</code></pre>
<pre><code>## 
## Attaching package: &#39;car&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:psych&#39;:
## 
##     logit</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="co"># Load the data set</span></a>
<a class="sourceLine" id="cb91-2" data-line-number="2"><span class="kw">data</span>(Prestige)</a>
<a class="sourceLine" id="cb91-3" data-line-number="3"><span class="co"># Check the dimension of the data</span></a>
<a class="sourceLine" id="cb91-4" data-line-number="4"><span class="kw">dim</span>(Prestige) <span class="co"># 102 observations, each observation has 6 variables.</span></a></code></pre></div>
<pre><code>## [1] 102   6</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="co"># Checking the variable names</span></a>
<a class="sourceLine" id="cb93-2" data-line-number="2"><span class="kw">names</span>(Prestige)</a></code></pre></div>
<pre><code>## [1] &quot;education&quot; &quot;income&quot;    &quot;women&quot;     &quot;prestige&quot;  &quot;census&quot;    &quot;type&quot;</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1"><span class="co"># subset the data</span></a>
<a class="sourceLine" id="cb95-2" data-line-number="2">Prestige[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co">#selecting the first 10 subjects with first three variables </span></a></code></pre></div>
<pre><code>##                     education income women
## gov.administrators      13.11  12351 11.16
## general.managers        12.26  25879  4.02
## accountants             12.77   9271 15.70
## purchasing.officers     11.42   8865  9.11
## chemists                14.62   8403 11.68
## physicists              15.64  11030  5.13
## biologists              15.09   8258 25.65
## architects              15.44  14163  2.69
## civil.engineers         14.52  11377  1.03
## mining.engineers        14.64  11023  0.94</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">Prestige[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="co">#selecting all subjects with first three variables </span></a></code></pre></div>
<pre><code>##                           education income women
## gov.administrators            13.11  12351 11.16
## general.managers              12.26  25879  4.02
## accountants                   12.77   9271 15.70
## purchasing.officers           11.42   8865  9.11
## chemists                      14.62   8403 11.68
## physicists                    15.64  11030  5.13
## biologists                    15.09   8258 25.65
## architects                    15.44  14163  2.69
## civil.engineers               14.52  11377  1.03
## mining.engineers              14.64  11023  0.94
## surveyors                     12.39   5902  1.91
## draughtsmen                   12.30   7059  7.83
## computer.programers           13.83   8425 15.33
## economists                    14.44   8049 57.31
## psychologists                 14.36   7405 48.28
## social.workers                14.21   6336 54.77
## lawyers                       15.77  19263  5.13
## librarians                    14.15   6112 77.10
## vocational.counsellors        15.22   9593 34.89
## ministers                     14.50   4686  4.14
## university.teachers           15.97  12480 19.59
## primary.school.teachers       13.62   5648 83.78
## secondary.school.teachers     15.08   8034 46.80
## physicians                    15.96  25308 10.56
## veterinarians                 15.94  14558  4.32
## osteopaths.chiropractors      14.71  17498  6.91
## nurses                        12.46   4614 96.12
## nursing.aides                  9.45   3485 76.14
## physio.therapsts              13.62   5092 82.66
## pharmacists                   15.21  10432 24.71
## medical.technicians           12.79   5180 76.04
## commercial.artists            11.09   6197 21.03
## radio.tv.announcers           12.71   7562 11.15
## athletes                      11.44   8206  8.13
## secretaries                   11.59   4036 97.51
## typists                       11.49   3148 95.97
## bookkeepers                   11.32   4348 68.24
## tellers.cashiers              10.64   2448 91.76
## computer.operators            11.36   4330 75.92
## shipping.clerks                9.17   4761 11.37
## file.clerks                   12.09   3016 83.19
## receptionsts                  11.04   2901 92.86
## mail.carriers                  9.22   5511  7.62
## postal.clerks                 10.07   3739 52.27
## telephone.operators           10.51   3161 96.14
## collectors                    11.20   4741 47.06
## claim.adjustors               11.13   5052 56.10
## travel.clerks                 11.43   6259 39.17
## office.clerks                 11.00   4075 63.23
## sales.supervisors              9.84   7482 17.04
## commercial.travellers         11.13   8780  3.16
## sales.clerks                  10.05   2594 67.82
## newsboys                       9.62    918  7.00
## service.station.attendant      9.93   2370  3.69
## insurance.agents              11.60   8131 13.09
## real.estate.salesmen          11.09   6992 24.44
## buyers                        11.03   7956 23.88
## firefighters                   9.47   8895  0.00
## policemen                     10.93   8891  1.65
## cooks                          7.74   3116 52.00
## bartenders                     8.50   3930 15.51
## funeral.directors             10.57   7869  6.01
## babysitters                    9.46    611 96.53
## launderers                     7.33   3000 69.31
## janitors                       7.11   3472 33.57
## elevator.operators             7.58   3582 30.08
## farmers                        6.84   3643  3.60
## farm.workers                   8.60   1656 27.75
## rotary.well.drillers           8.88   6860  0.00
## bakers                         7.54   4199 33.30
## slaughterers.1                 7.64   5134 17.26
## slaughterers.2                 7.64   5134 17.26
## canners                        7.42   1890 72.24
## textile.weavers                6.69   4443 31.36
## textile.labourers              6.74   3485 39.48
## tool.die.makers               10.09   8043  1.50
## machinists                     8.81   6686  4.28
## sheet.metal.workers            8.40   6565  2.30
## welders                        7.92   6477  5.17
## auto.workers                   8.43   5811 13.62
## aircraft.workers               8.78   6573  5.78
## electronic.workers             8.76   3942 74.54
## radio.tv.repairmen            10.29   5449  2.92
## sewing.mach.operators          6.38   2847 90.67
## auto.repairmen                 8.10   5795  0.81
## aircraft.repairmen            10.10   7716  0.78
## railway.sectionmen             6.67   4696  0.00
## electrical.linemen             9.05   8316  1.34
## electricians                   9.93   7147  0.99
## construction.foremen           8.24   8880  0.65
## carpenters                     6.92   5299  0.56
## masons                         6.60   5959  0.52
## house.painters                 7.81   4549  2.46
## plumbers                       8.33   6928  0.61
## construction.labourers         7.52   3910  1.09
## pilots                        12.27  14032  0.58
## train.engineers                8.49   8845  0.00
## bus.drivers                    7.58   5562  9.47
## taxi.drivers                   7.93   4224  3.59
## longshoremen                   8.37   4753  0.00
## typesetters                   10.00   6462 13.58
## bookbinders                    8.55   3617 70.87</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1">Prestige<span class="op">$</span>education <span class="co">#selecting the variable &quot;education&quot;</span></a></code></pre></div>
<pre><code>##   [1] 13.11 12.26 12.77 11.42 14.62 15.64 15.09 15.44 14.52 14.64 12.39 12.30
##  [13] 13.83 14.44 14.36 14.21 15.77 14.15 15.22 14.50 15.97 13.62 15.08 15.96
##  [25] 15.94 14.71 12.46  9.45 13.62 15.21 12.79 11.09 12.71 11.44 11.59 11.49
##  [37] 11.32 10.64 11.36  9.17 12.09 11.04  9.22 10.07 10.51 11.20 11.13 11.43
##  [49] 11.00  9.84 11.13 10.05  9.62  9.93 11.60 11.09 11.03  9.47 10.93  7.74
##  [61]  8.50 10.57  9.46  7.33  7.11  7.58  6.84  8.60  8.88  7.54  7.64  7.64
##  [73]  7.42  6.69  6.74 10.09  8.81  8.40  7.92  8.43  8.78  8.76 10.29  6.38
##  [85]  8.10 10.10  6.67  9.05  9.93  8.24  6.92  6.60  7.81  8.33  7.52 12.27
##  [97]  8.49  7.58  7.93  8.37 10.00  8.55</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">Prestige[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>,<span class="st">&quot;income&quot;</span>)] <span class="co">#selecting the first 10 subjects with the variables &quot;education&quot; and &quot;income&quot;</span></a></code></pre></div>
<pre><code>##                     education income
## gov.administrators      13.11  12351
## general.managers        12.26  25879
## accountants             12.77   9271
## purchasing.officers     11.42   8865
## chemists                14.62   8403
## physicists              15.64  11030
## biologists              15.09   8258
## architects              15.44  14163
## civil.engineers         14.52  11377
## mining.engineers        14.64  11023</code></pre>
</div>
<div id="select-specific-data" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Select Specific Data</h3>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1"><span class="co"># put 1&#39;s in the first col., others in 2-4th</span></a>
<a class="sourceLine" id="cb103-2" data-line-number="2">X=<span class="kw">cbind</span>(<span class="dv">1</span>,<span class="kw">as.matrix</span>(Prestige[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])) </a>
<a class="sourceLine" id="cb103-3" data-line-number="3">X</a></code></pre></div>
<pre><code>##                             education income women
## gov.administrators        1     13.11  12351 11.16
## general.managers          1     12.26  25879  4.02
## accountants               1     12.77   9271 15.70
## purchasing.officers       1     11.42   8865  9.11
## chemists                  1     14.62   8403 11.68
## physicists                1     15.64  11030  5.13
## biologists                1     15.09   8258 25.65
## architects                1     15.44  14163  2.69
## civil.engineers           1     14.52  11377  1.03
## mining.engineers          1     14.64  11023  0.94
## surveyors                 1     12.39   5902  1.91
## draughtsmen               1     12.30   7059  7.83
## computer.programers       1     13.83   8425 15.33
## economists                1     14.44   8049 57.31
## psychologists             1     14.36   7405 48.28
## social.workers            1     14.21   6336 54.77
## lawyers                   1     15.77  19263  5.13
## librarians                1     14.15   6112 77.10
## vocational.counsellors    1     15.22   9593 34.89
## ministers                 1     14.50   4686  4.14
## university.teachers       1     15.97  12480 19.59
## primary.school.teachers   1     13.62   5648 83.78
## secondary.school.teachers 1     15.08   8034 46.80
## physicians                1     15.96  25308 10.56
## veterinarians             1     15.94  14558  4.32
## osteopaths.chiropractors  1     14.71  17498  6.91
## nurses                    1     12.46   4614 96.12
## nursing.aides             1      9.45   3485 76.14
## physio.therapsts          1     13.62   5092 82.66
## pharmacists               1     15.21  10432 24.71
## medical.technicians       1     12.79   5180 76.04
## commercial.artists        1     11.09   6197 21.03
## radio.tv.announcers       1     12.71   7562 11.15
## athletes                  1     11.44   8206  8.13
## secretaries               1     11.59   4036 97.51
## typists                   1     11.49   3148 95.97
## bookkeepers               1     11.32   4348 68.24
## tellers.cashiers          1     10.64   2448 91.76
## computer.operators        1     11.36   4330 75.92
## shipping.clerks           1      9.17   4761 11.37
## file.clerks               1     12.09   3016 83.19
## receptionsts              1     11.04   2901 92.86
## mail.carriers             1      9.22   5511  7.62
## postal.clerks             1     10.07   3739 52.27
## telephone.operators       1     10.51   3161 96.14
## collectors                1     11.20   4741 47.06
## claim.adjustors           1     11.13   5052 56.10
## travel.clerks             1     11.43   6259 39.17
## office.clerks             1     11.00   4075 63.23
## sales.supervisors         1      9.84   7482 17.04
## commercial.travellers     1     11.13   8780  3.16
## sales.clerks              1     10.05   2594 67.82
## newsboys                  1      9.62    918  7.00
## service.station.attendant 1      9.93   2370  3.69
## insurance.agents          1     11.60   8131 13.09
## real.estate.salesmen      1     11.09   6992 24.44
## buyers                    1     11.03   7956 23.88
## firefighters              1      9.47   8895  0.00
## policemen                 1     10.93   8891  1.65
## cooks                     1      7.74   3116 52.00
## bartenders                1      8.50   3930 15.51
## funeral.directors         1     10.57   7869  6.01
## babysitters               1      9.46    611 96.53
## launderers                1      7.33   3000 69.31
## janitors                  1      7.11   3472 33.57
## elevator.operators        1      7.58   3582 30.08
## farmers                   1      6.84   3643  3.60
## farm.workers              1      8.60   1656 27.75
## rotary.well.drillers      1      8.88   6860  0.00
## bakers                    1      7.54   4199 33.30
## slaughterers.1            1      7.64   5134 17.26
## slaughterers.2            1      7.64   5134 17.26
## canners                   1      7.42   1890 72.24
## textile.weavers           1      6.69   4443 31.36
## textile.labourers         1      6.74   3485 39.48
## tool.die.makers           1     10.09   8043  1.50
## machinists                1      8.81   6686  4.28
## sheet.metal.workers       1      8.40   6565  2.30
## welders                   1      7.92   6477  5.17
## auto.workers              1      8.43   5811 13.62
## aircraft.workers          1      8.78   6573  5.78
## electronic.workers        1      8.76   3942 74.54
## radio.tv.repairmen        1     10.29   5449  2.92
## sewing.mach.operators     1      6.38   2847 90.67
## auto.repairmen            1      8.10   5795  0.81
## aircraft.repairmen        1     10.10   7716  0.78
## railway.sectionmen        1      6.67   4696  0.00
## electrical.linemen        1      9.05   8316  1.34
## electricians              1      9.93   7147  0.99
## construction.foremen      1      8.24   8880  0.65
## carpenters                1      6.92   5299  0.56
## masons                    1      6.60   5959  0.52
## house.painters            1      7.81   4549  2.46
## plumbers                  1      8.33   6928  0.61
## construction.labourers    1      7.52   3910  1.09
## pilots                    1     12.27  14032  0.58
## train.engineers           1      8.49   8845  0.00
## bus.drivers               1      7.58   5562  9.47
## taxi.drivers              1      7.93   4224  3.59
## longshoremen              1      8.37   4753  0.00
## typesetters               1     10.00   6462 13.58
## bookbinders               1      8.55   3617 70.87</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1"><span class="co"># adding ID</span></a>
<a class="sourceLine" id="cb105-2" data-line-number="2">X1=<span class="kw">cbind</span>(<span class="kw">seq</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">102</span>),<span class="kw">as.matrix</span>(Prestige[,<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])) </a>
<a class="sourceLine" id="cb105-3" data-line-number="3"><span class="kw">colnames</span>(X1)=<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ID&quot;</span>,<span class="st">&quot;education&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;women&quot;</span>)</a>
<a class="sourceLine" id="cb105-4" data-line-number="4">X1</a></code></pre></div>
<pre><code>##                            ID education income women
## gov.administrators          1     13.11  12351 11.16
## general.managers            2     12.26  25879  4.02
## accountants                 3     12.77   9271 15.70
## purchasing.officers         4     11.42   8865  9.11
## chemists                    5     14.62   8403 11.68
## physicists                  6     15.64  11030  5.13
## biologists                  7     15.09   8258 25.65
## architects                  8     15.44  14163  2.69
## civil.engineers             9     14.52  11377  1.03
## mining.engineers           10     14.64  11023  0.94
## surveyors                  11     12.39   5902  1.91
## draughtsmen                12     12.30   7059  7.83
## computer.programers        13     13.83   8425 15.33
## economists                 14     14.44   8049 57.31
## psychologists              15     14.36   7405 48.28
## social.workers             16     14.21   6336 54.77
## lawyers                    17     15.77  19263  5.13
## librarians                 18     14.15   6112 77.10
## vocational.counsellors     19     15.22   9593 34.89
## ministers                  20     14.50   4686  4.14
## university.teachers        21     15.97  12480 19.59
## primary.school.teachers    22     13.62   5648 83.78
## secondary.school.teachers  23     15.08   8034 46.80
## physicians                 24     15.96  25308 10.56
## veterinarians              25     15.94  14558  4.32
## osteopaths.chiropractors   26     14.71  17498  6.91
## nurses                     27     12.46   4614 96.12
## nursing.aides              28      9.45   3485 76.14
## physio.therapsts           29     13.62   5092 82.66
## pharmacists                30     15.21  10432 24.71
## medical.technicians        31     12.79   5180 76.04
## commercial.artists         32     11.09   6197 21.03
## radio.tv.announcers        33     12.71   7562 11.15
## athletes                   34     11.44   8206  8.13
## secretaries                35     11.59   4036 97.51
## typists                    36     11.49   3148 95.97
## bookkeepers                37     11.32   4348 68.24
## tellers.cashiers           38     10.64   2448 91.76
## computer.operators         39     11.36   4330 75.92
## shipping.clerks            40      9.17   4761 11.37
## file.clerks                41     12.09   3016 83.19
## receptionsts               42     11.04   2901 92.86
## mail.carriers              43      9.22   5511  7.62
## postal.clerks              44     10.07   3739 52.27
## telephone.operators        45     10.51   3161 96.14
## collectors                 46     11.20   4741 47.06
## claim.adjustors            47     11.13   5052 56.10
## travel.clerks              48     11.43   6259 39.17
## office.clerks              49     11.00   4075 63.23
## sales.supervisors          50      9.84   7482 17.04
## commercial.travellers      51     11.13   8780  3.16
## sales.clerks               52     10.05   2594 67.82
## newsboys                   53      9.62    918  7.00
## service.station.attendant  54      9.93   2370  3.69
## insurance.agents           55     11.60   8131 13.09
## real.estate.salesmen       56     11.09   6992 24.44
## buyers                     57     11.03   7956 23.88
## firefighters               58      9.47   8895  0.00
## policemen                  59     10.93   8891  1.65
## cooks                      60      7.74   3116 52.00
## bartenders                 61      8.50   3930 15.51
## funeral.directors          62     10.57   7869  6.01
## babysitters                63      9.46    611 96.53
## launderers                 64      7.33   3000 69.31
## janitors                   65      7.11   3472 33.57
## elevator.operators         66      7.58   3582 30.08
## farmers                    67      6.84   3643  3.60
## farm.workers               68      8.60   1656 27.75
## rotary.well.drillers       69      8.88   6860  0.00
## bakers                     70      7.54   4199 33.30
## slaughterers.1             71      7.64   5134 17.26
## slaughterers.2             72      7.64   5134 17.26
## canners                    73      7.42   1890 72.24
## textile.weavers            74      6.69   4443 31.36
## textile.labourers          75      6.74   3485 39.48
## tool.die.makers            76     10.09   8043  1.50
## machinists                 77      8.81   6686  4.28
## sheet.metal.workers        78      8.40   6565  2.30
## welders                    79      7.92   6477  5.17
## auto.workers               80      8.43   5811 13.62
## aircraft.workers           81      8.78   6573  5.78
## electronic.workers         82      8.76   3942 74.54
## radio.tv.repairmen         83     10.29   5449  2.92
## sewing.mach.operators      84      6.38   2847 90.67
## auto.repairmen             85      8.10   5795  0.81
## aircraft.repairmen         86     10.10   7716  0.78
## railway.sectionmen         87      6.67   4696  0.00
## electrical.linemen         88      9.05   8316  1.34
## electricians               89      9.93   7147  0.99
## construction.foremen       90      8.24   8880  0.65
## carpenters                 91      6.92   5299  0.56
## masons                     92      6.60   5959  0.52
## house.painters             93      7.81   4549  2.46
## plumbers                   94      8.33   6928  0.61
## construction.labourers     95      7.52   3910  1.09
## pilots                     96     12.27  14032  0.58
## train.engineers            97      8.49   8845  0.00
## bus.drivers                98      7.58   5562  9.47
## taxi.drivers               99      7.93   4224  3.59
## longshoremen              100      8.37   4753  0.00
## typesetters               101     10.00   6462 13.58
## bookbinders               102      8.55   3617 70.87</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1"><span class="co"># select only the 4th column of the dataset: Prestige</span></a>
<a class="sourceLine" id="cb107-2" data-line-number="2">y=Prestige[,<span class="dv">4</span>] </a>
<a class="sourceLine" id="cb107-3" data-line-number="3">y</a></code></pre></div>
<pre><code>##   [1] 68.8 69.1 63.4 56.8 73.5 77.6 72.6 78.1 73.1 68.8 62.0 60.0 53.8 62.2 74.9
##  [16] 55.1 82.3 58.1 58.3 72.8 84.6 59.6 66.1 87.2 66.7 68.4 64.7 34.9 72.1 69.3
##  [31] 67.5 57.2 57.6 54.1 46.0 41.9 49.4 42.3 47.7 30.9 32.7 38.7 36.1 37.2 38.1
##  [46] 29.4 51.1 35.7 35.6 41.5 40.2 26.5 14.8 23.3 47.3 47.1 51.1 43.5 51.6 29.7
##  [61] 20.2 54.9 25.9 20.8 17.3 20.1 44.1 21.5 35.3 38.9 25.2 34.8 23.2 33.3 28.8
##  [76] 42.5 44.2 35.9 41.8 35.9 43.7 50.8 37.2 28.2 38.1 50.3 27.3 40.9 50.2 51.1
##  [91] 38.9 36.2 29.9 42.9 26.5 66.1 48.9 35.9 25.1 26.1 42.2 35.2</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1"><span class="co"># select the first five subjects with all columns</span></a>
<a class="sourceLine" id="cb109-2" data-line-number="2">X[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,] </a></code></pre></div>
<pre><code>##                       education income women
## gov.administrators  1     13.11  12351 11.16
## general.managers    1     12.26  25879  4.02
## accountants         1     12.77   9271 15.70
## purchasing.officers 1     11.42   8865  9.11
## chemists            1     14.62   8403 11.68</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" data-line-number="1"><span class="co">#select variables (&quot;education&quot; ,&quot;prestige&quot;) and the first five subjects</span></a>
<a class="sourceLine" id="cb111-2" data-line-number="2">Prestige[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="kw">c</span>(<span class="st">&quot;prestige&quot;</span>,<span class="st">&quot;education&quot;</span>)] </a></code></pre></div>
<pre><code>##                     prestige education
## gov.administrators      68.8     13.11
## general.managers        69.1     12.26
## accountants             63.4     12.77
## purchasing.officers     56.8     11.42
## chemists                73.5     14.62</code></pre>
</div>
<div id="correlation-and-covariate-matrix" class="section level3">
<h3><span class="header-section-number">2.4.3</span> Correlation and Covariate Matrix</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" data-line-number="1"><span class="co"># Calculate the correlations among three variables</span></a>
<a class="sourceLine" id="cb113-2" data-line-number="2">R=<span class="kw">cor</span>(<span class="kw">cbind</span>(Prestige<span class="op">$</span>education,Prestige<span class="op">$</span>income,Prestige<span class="op">$</span>women))</a>
<a class="sourceLine" id="cb113-3" data-line-number="3">R <span class="co"># Correlation matrix</span></a></code></pre></div>
<pre><code>##            [,1]       [,2]        [,3]
## [1,] 1.00000000  0.5775802  0.06185286
## [2,] 0.57758023  1.0000000 -0.44105927
## [3,] 0.06185286 -0.4410593  1.00000000</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" data-line-number="1"><span class="kw">plot</span>(Prestige<span class="op">$</span>education,Prestige<span class="op">$</span>income)</a></code></pre></div>
<p><img src="Bayes_R_Book_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1"><span class="co"># Calculate the covariance among three variables</span></a>
<a class="sourceLine" id="cb116-2" data-line-number="2">S =<span class="kw">cov</span>(<span class="kw">cbind</span>(Prestige<span class="op">$</span>education,Prestige<span class="op">$</span>income,Prestige<span class="op">$</span>women))</a>
<a class="sourceLine" id="cb116-3" data-line-number="3">S <span class="co"># Covariance matrix</span></a></code></pre></div>
<pre><code>##             [,1]        [,2]          [,3]
## [1,]    7.444408     6691.13      5.353965
## [2,] 6691.129509 18027855.55 -59411.383661
## [3,]    5.353965   -59411.38   1006.471223</code></pre>
</div>
<div id="matrix-diagonals" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Matrix Diagonals</h3>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="co"># extract diagonal of R (correlation matrix)</span></a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="kw">diag</span>(R)    </a></code></pre></div>
<pre><code>## [1] 1 1 1</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="co"># set diagonal of R</span></a>
<a class="sourceLine" id="cb120-2" data-line-number="2"><span class="kw">diag</span>(R)=<span class="ot">NA</span> </a>
<a class="sourceLine" id="cb120-3" data-line-number="3"><span class="co"># make diagonal matrix</span></a>
<a class="sourceLine" id="cb120-4" data-line-number="4"><span class="kw">diag</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)  </a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    0    0
## [2,]    0    2    0
## [3,]    0    0    3</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="co"># order-3 identity matrix</span></a>
<a class="sourceLine" id="cb122-2" data-line-number="2"><span class="kw">diag</span>(<span class="dv">3</span>)</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    0    0
## [2,]    0    1    0
## [3,]    0    0    1</code></pre>
</div>
<div id="practice-questions-3" class="section level3">
<h3><span class="header-section-number">2.4.5</span> Practice Questions</h3>
<p>please upload the Grit study.csv</p>
<div id="question-1-3" class="section level4">
<h4><span class="header-section-number">2.4.5.1</span> Question 1</h4>
<p>check the dimentions and names of the dataset</p>
</div>
<div id="question-2-3" class="section level4">
<h4><span class="header-section-number">2.4.5.2</span> Question 2</h4>
<p>Using the “describe” function from “psych” package to summarize the dataset</p>
</div>
<div id="question-3-3" class="section level4">
<h4><span class="header-section-number">2.4.5.3</span> Question 3</h4>
<p>creat a new variable called “ID” for the given dataset</p>
</div>
<div id="question-4-1" class="section level4">
<h4><span class="header-section-number">2.4.5.4</span> Question 4</h4>
<p>rename the last three columns as “internal”, “external”, and “support”</p>
</div>
<div id="question-5-1" class="section level4">
<h4><span class="header-section-number">2.4.5.5</span> Question 5</h4>
<p>Subsetting: select the 10 subjects with IDs from 11 to 20, under two variables: internal and grit</p>
</div>
<div id="question-6-1" class="section level4">
<h4><span class="header-section-number">2.4.5.6</span> Question 6</h4>
<p>Calculate the correlation and covariance between the two variables:internal and grit</p>
</div>
<div id="question-7" class="section level4">
<h4><span class="header-section-number">2.4.5.7</span> Question 7</h4>
<p>Extract the diagonal elements of the covariance matrix</p>
</div>
<div id="question-8" class="section level4">
<h4><span class="header-section-number">2.4.5.8</span> Question 8</h4>
<p>Calculate the inverse matrix of the covariance matrix</p>
</div>
</div>
</div>
<div id="part-5-factor-list-and-dataframe" class="section level2">
<h2><span class="header-section-number">2.5</span> Part 5: Factor, List, and Dataframe</h2>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Factors</h3>
<p>Categorical variables whose input are numeric: “factors” Terminology: a factor has a set of “levels”</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1"><span class="co">## build a continuous variable</span></a>
<a class="sourceLine" id="cb124-2" data-line-number="2">pain=<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>) </a>
<a class="sourceLine" id="cb124-3" data-line-number="3"><span class="co">## set the level of pain as a factor</span></a>
<a class="sourceLine" id="cb124-4" data-line-number="4">fpain=<span class="kw">factor</span>(pain,<span class="dt">levels=</span><span class="dv">0</span><span class="op">:</span><span class="dv">3</span>) <span class="co">## categorical has a order: ordinal scale</span></a>
<a class="sourceLine" id="cb124-5" data-line-number="5"><span class="co">## rename the factors of our &quot;fpain&quot; variable</span></a>
<a class="sourceLine" id="cb124-6" data-line-number="6"><span class="kw">levels</span>(fpain)=<span class="kw">c</span>(<span class="st">&quot;none&quot;</span>,<span class="st">&quot;mild&quot;</span>,<span class="st">&quot;medium&quot;</span>,<span class="st">&quot;sever&quot;</span>) </a>
<a class="sourceLine" id="cb124-7" data-line-number="7"><span class="co"># Print pain (show as only numbers)</span></a>
<a class="sourceLine" id="cb124-8" data-line-number="8">pain</a></code></pre></div>
<pre><code>## [1] 0 3 2 2 1</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1"><span class="co"># Print fpain (show as categorical names)</span></a>
<a class="sourceLine" id="cb126-2" data-line-number="2">fpain</a></code></pre></div>
<pre><code>## [1] none   sever  medium medium mild  
## Levels: none mild medium sever</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1"><span class="co"># Turn the categorizes into numbers </span></a>
<a class="sourceLine" id="cb128-2" data-line-number="2"><span class="kw">as.numeric</span>(fpain)<span class="op">-</span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1] 0 3 2 2 1</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="co"># Check the levels of a variable</span></a>
<a class="sourceLine" id="cb130-2" data-line-number="2"><span class="kw">levels</span>(fpain)</a></code></pre></div>
<pre><code>## [1] &quot;none&quot;   &quot;mild&quot;   &quot;medium&quot; &quot;sever&quot;</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="co"># Internally, the 4-level factor above consists of 2 items </span></a>
<a class="sourceLine" id="cb132-2" data-line-number="2"><span class="co"># (a)a vector of integers between 1 and 4</span></a>
<a class="sourceLine" id="cb132-3" data-line-number="3"><span class="co"># (b)a character vector of length 4 containing strings describing what the 4 levels are</span></a></code></pre></div>
</div>
<div id="building-a-list" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Building a list</h3>
<p>Lists are the R objects which contain elements of different types like − numbers, strings, vectors and another list inside it. A list can also contain a matrix or a function as its elements. List is created using list() function.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="co"># Combine a collection of objects into a larger composite object. </span></a>
<a class="sourceLine" id="cb133-2" data-line-number="2"><span class="co"># Generate two vectors with Exam scores</span></a>
<a class="sourceLine" id="cb133-3" data-line-number="3">exam1=<span class="kw">c</span>(<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">72</span>,<span class="dv">92</span>,<span class="dv">83</span>,<span class="dv">89</span>,<span class="dv">58</span>,<span class="dv">81</span>)             </a>
<a class="sourceLine" id="cb133-4" data-line-number="4">exam2=<span class="kw">c</span>(<span class="dv">60</span>,<span class="dv">71</span>,<span class="dv">84</span>,<span class="dv">94</span>,<span class="dv">95</span>,<span class="dv">90</span>,<span class="dv">77</span>,<span class="dv">87</span>)</a>
<a class="sourceLine" id="cb133-5" data-line-number="5"><span class="co"># Give names to the objects</span></a>
<a class="sourceLine" id="cb133-6" data-line-number="6"><span class="co"># Build a list containing both exams</span></a>
<a class="sourceLine" id="cb133-7" data-line-number="7">scores=<span class="kw">list</span>(<span class="dt">midterm=</span>exam1,<span class="dt">final=</span>exam2) </a>
<a class="sourceLine" id="cb133-8" data-line-number="8"><span class="co"># print the composite object</span></a>
<a class="sourceLine" id="cb133-9" data-line-number="9">scores</a></code></pre></div>
<pre><code>## $midterm
## [1] 50 60 72 92 83 89 58 81
## 
## $final
## [1] 60 71 84 94 95 90 77 87</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1"><span class="co"># You can use &quot;$&quot; sign to extract the specific object in a list</span></a>
<a class="sourceLine" id="cb135-2" data-line-number="2"><span class="co"># extract named components </span></a>
<a class="sourceLine" id="cb135-3" data-line-number="3">scores<span class="op">$</span>final</a></code></pre></div>
<pre><code>## [1] 60 71 84 94 95 90 77 87</code></pre>
</div>
<div id="building-a-dataframe" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Building a Dataframe</h3>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1"><span class="co"># Building a data frame using exam data we previously created</span></a>
<a class="sourceLine" id="cb137-2" data-line-number="2">d=<span class="kw">data.frame</span>(exam1,exam2)</a>
<a class="sourceLine" id="cb137-3" data-line-number="3"><span class="co">#the data are paired, the same student has a midterm and a final score</span></a>
<a class="sourceLine" id="cb137-4" data-line-number="4">d     </a></code></pre></div>
<pre><code>##   exam1 exam2
## 1    50    60
## 2    60    71
## 3    72    84
## 4    92    94
## 5    83    95
## 6    89    90
## 7    58    77
## 8    81    87</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"><span class="co"># Use the &quot;$&quot; sign extract columns from a data frame </span></a>
<a class="sourceLine" id="cb139-2" data-line-number="2">d<span class="op">$</span>exam1    </a></code></pre></div>
<pre><code>## [1] 50 60 72 92 83 89 58 81</code></pre>
</div>
<div id="indexing-subsetting-dataset" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Indexing (subsetting) Dataset</h3>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1"><span class="co"># Select the 4th element in vector exam1</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2">exam1[<span class="dv">4</span>] </a></code></pre></div>
<pre><code>## [1] 92</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1"><span class="co"># The 1st,3rd,6th,7th element of &quot;exam1&quot;; alternatively</span></a>
<a class="sourceLine" id="cb143-2" data-line-number="2">exam2[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>)] </a></code></pre></div>
<pre><code>## [1] 60 84 90 77</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1"><span class="co"># Build an indexing vector &quot;v&quot;</span></a>
<a class="sourceLine" id="cb145-2" data-line-number="2">v=<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb145-3" data-line-number="3"><span class="co"># Select the indexing elements of &quot;v&quot; from data exam2</span></a>
<a class="sourceLine" id="cb145-4" data-line-number="4">exam2[v]</a></code></pre></div>
<pre><code>## [1] 60 84 90 77</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="co"># Select the first 6 elements</span></a>
<a class="sourceLine" id="cb147-2" data-line-number="2">exam2[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]</a></code></pre></div>
<pre><code>## [1] 60 71 84 94 95 90</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1"><span class="co"># Select all the elements except the positions specified in v</span></a>
<a class="sourceLine" id="cb149-2" data-line-number="2">exam2[<span class="op">-</span>v]</a></code></pre></div>
<pre><code>## [1] 71 94 95 87</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1"><span class="co"># Conditional selection</span></a>
<a class="sourceLine" id="cb151-2" data-line-number="2">exam2[exam1<span class="op">&gt;=</span><span class="dv">60</span>]</a></code></pre></div>
<pre><code>## [1] 71 84 94 95 90 87</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="co"># Select all the exam2 scores where exam 1&#39;s scores either less than 70, or larger than 90. </span></a>
<a class="sourceLine" id="cb153-2" data-line-number="2">exam2[exam1<span class="op">&lt;</span><span class="dv">70</span> <span class="op">|</span>exam1<span class="op">&gt;</span><span class="dv">90</span>] <span class="co"># &quot;|&quot;means &quot;or&quot;</span></a></code></pre></div>
<pre><code>## [1] 60 71 94 77</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1"><span class="co"># Select all the exam2 scores where exam 1&#39;s scores between 70 to 79.</span></a>
<a class="sourceLine" id="cb155-2" data-line-number="2">exam2[exam1<span class="op">&gt;=</span><span class="dv">70</span> <span class="op">&amp;</span><span class="st"> </span>exam1<span class="op">&lt;</span><span class="dv">80</span>] <span class="co"># &amp; means &quot;and&quot;</span></a></code></pre></div>
<pre><code>## [1] 84</code></pre>
</div>
<div id="more-examples-on-indexing-dataset" class="section level3">
<h3><span class="header-section-number">2.5.5</span> More examples on indexing dataset</h3>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="co"># We will use the same data frame d.</span></a>
<a class="sourceLine" id="cb157-2" data-line-number="2">d=<span class="kw">data.frame</span>(exam1,exam2)</a>
<a class="sourceLine" id="cb157-3" data-line-number="3"><span class="co"># The element in the 5th row, 1st column</span></a>
<a class="sourceLine" id="cb157-4" data-line-number="4">d[<span class="dv">5</span>,<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 83</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="co"># The vector in the 5th row</span></a>
<a class="sourceLine" id="cb159-2" data-line-number="2">d[<span class="dv">5</span>,]        </a></code></pre></div>
<pre><code>##   exam1 exam2
## 5    83    95</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1">d[d<span class="op">$</span>exam1<span class="op">&gt;</span><span class="dv">90</span>,]</a></code></pre></div>
<pre><code>##   exam1 exam2
## 4    92    94</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="co"># Conditional selection with logical outcome</span></a>
<a class="sourceLine" id="cb163-2" data-line-number="2">lo=d<span class="op">$</span>exam1<span class="op">&gt;</span><span class="dv">60</span> </a>
<a class="sourceLine" id="cb163-3" data-line-number="3">lo</a></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="co"># Use a logical vector as the indexing vector</span></a>
<a class="sourceLine" id="cb165-2" data-line-number="2">d[lo,]    </a></code></pre></div>
<pre><code>##   exam1 exam2
## 3    72    84
## 4    92    94
## 5    83    95
## 6    89    90
## 8    81    87</code></pre>
</div>
<div id="subset-and-transform-data" class="section level3">
<h3><span class="header-section-number">2.5.6</span> Subset and transform data</h3>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"><span class="co"># Use the previous exam data set we created.</span></a>
<a class="sourceLine" id="cb167-2" data-line-number="2">d</a></code></pre></div>
<pre><code>##   exam1 exam2
## 1    50    60
## 2    60    71
## 3    72    84
## 4    92    94
## 5    83    95
## 6    89    90
## 7    58    77
## 8    81    87</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1"><span class="co"># Subset the dataset where the exam1 scores are larger than 60</span></a>
<a class="sourceLine" id="cb169-2" data-line-number="2">d2=<span class="kw">subset</span>(d,exam1<span class="op">&gt;</span><span class="dv">60</span>)</a>
<a class="sourceLine" id="cb169-3" data-line-number="3">d2</a></code></pre></div>
<pre><code>##   exam1 exam2
## 3    72    84
## 4    92    94
## 5    83    95
## 6    89    90
## 8    81    87</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="co"># Adding a new column &quot;exam1bonus&quot; using transform function</span></a>
<a class="sourceLine" id="cb171-2" data-line-number="2">d3=<span class="kw">transform</span>(d,<span class="dt">exam1bonus=</span>exam1<span class="op">+</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb171-3" data-line-number="3">d3</a></code></pre></div>
<pre><code>##   exam1 exam2 exam1bonus
## 1    50    60         55
## 2    60    71         65
## 3    72    84         77
## 4    92    94         97
## 5    83    95         88
## 6    89    90         94
## 7    58    77         63
## 8    81    87         86</code></pre>
</div>
<div id="practice-questions-4" class="section level3">
<h3><span class="header-section-number">2.5.7</span> Practice Questions</h3>
<div id="question-1-4" class="section level4">
<h4><span class="header-section-number">2.5.7.1</span> Question 1</h4>
<p>subset Prestige dataset for subjects whose income is higher than 10,000 without using the “subset” function</p>
</div>
<div id="question-2-4" class="section level4">
<h4><span class="header-section-number">2.5.7.2</span> Question 2</h4>
<p>subset Prestige dataset for subjects whose income is higher than 10,000 with using the “subset” function</p>
</div>
<div id="question-3-4" class="section level4">
<h4><span class="header-section-number">2.5.7.3</span> Question 3</h4>
<p>subset Prestige dataset for subjects whose income is higher than 10,000 and who are professors without using the “subset” function</p>
</div>
</div>
</div>
<div id="part-6-conditional-statement" class="section level2">
<h2><span class="header-section-number">2.6</span> Part 6: conditional statement</h2>
<div id="if-statement" class="section level3">
<h3><span class="header-section-number">2.6.1</span> if statement</h3>
<p><code>if</code> statements tell R to run a line of code if a condition returns <code>TRUE</code>. An <code>if</code> statement is a good choice here because it allows us to control which statement is printed depending on which outcome occurs.</p>
<p><code>if</code> Statement: use it to execute a block of code, if a specified condition is true</p>
<div class="figure">
<img src="if_statement.png" alt="Figure 1: The if Statement" />
<p class="caption">Figure 1: The if Statement</p>
</div>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1">time=<span class="kw">c</span>(<span class="fl">9.2</span>,<span class="dv">7</span>,<span class="fl">7.1</span>,<span class="fl">8.2</span>,<span class="fl">10.1</span>,<span class="dv">11</span>,<span class="fl">9.3</span>,<span class="fl">4.5</span>,<span class="fl">6.6</span>,<span class="fl">7.9</span>,<span class="fl">10.8</span>,<span class="fl">7.8</span>,<span class="fl">8.3</span>)</a>
<a class="sourceLine" id="cb173-2" data-line-number="2">status=<span class="kw">c</span>(<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>)</a>
<a class="sourceLine" id="cb173-3" data-line-number="3"><span class="co"># Combine two variables into data frame &quot;rate&quot;</span></a>
<a class="sourceLine" id="cb173-4" data-line-number="4">rate=<span class="kw">data.frame</span>(time,status)</a>
<a class="sourceLine" id="cb173-5" data-line-number="5">rate</a></code></pre></div>
<pre><code>##    time status
## 1   9.2   pass
## 2   7.0   fail
## 3   7.1   fail
## 4   8.2   fail
## 5  10.1   fail
## 6  11.0   pass
## 7   9.3   fail
## 8   4.5   fail
## 9   6.6   pass
## 10  7.9   pass
## 11 10.8   fail
## 12  7.8   pass
## 13  8.3   fail</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="co"># use the if function to check the first participant&#39;s pass/fail condition</span></a>
<a class="sourceLine" id="cb175-2" data-line-number="2"><span class="cf">if</span> (rate[<span class="dv">1</span>,<span class="dv">2</span>]<span class="op">==</span><span class="st">&quot;pass&quot;</span>){</a>
<a class="sourceLine" id="cb175-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;You are awesome!&quot;</span>)</a>
<a class="sourceLine" id="cb175-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;You are awesome!&quot;</code></pre>
<p>Another simple example:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="co"># Making a simple comparison</span></a>
<a class="sourceLine" id="cb177-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb177-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb177-4" data-line-number="4"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb177-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a>
<a class="sourceLine" id="cb177-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
<p>Likewise, you can use following comparison operators to compare two values:</p>
<div class="figure">
<img src="comparison%20operators.png" alt="Figure 2: Comparison Operators" />
<p class="caption">Figure 2: Comparison Operators</p>
</div>
</div>
<div id="more-example" class="section level3">
<h3><span class="header-section-number">2.6.2</span> More Example</h3>
<p>In R, any non-zero value is considered <code>TRUE</code>, whereas a zero is considered <code>FALSE.</code> That’s why all the below if statements are valid.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="co"># mathematical expression</span></a>
<a class="sourceLine" id="cb179-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb179-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb179-4" data-line-number="4"><span class="cf">if</span>(x <span class="op">+</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb179-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;True&quot;</span>)</a>
<a class="sourceLine" id="cb179-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] &quot;True&quot;</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="co"># any non-zero value</span></a>
<a class="sourceLine" id="cb181-2" data-line-number="2"><span class="cf">if</span>(<span class="op">-</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb181-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;True&quot;</span>)</a>
<a class="sourceLine" id="cb181-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;True&quot;</code></pre>
<p><code>if</code> Statement Without Curly Braces: If you have only one statement to execute, you can skip curly braces.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb183-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb183-3" data-line-number="3"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y) <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
<p>Nested if Statement: You can write one <code>if</code> statement inside another <code>if</code> statement to test more than one condition and return different results.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb185-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb185-3" data-line-number="3">z &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb185-4" data-line-number="4"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb185-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;x is greater than y&quot;</span>)</a>
<a class="sourceLine" id="cb185-6" data-line-number="6">  <span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>z) <span class="kw">print</span>(<span class="st">&quot;x is greater than y and z&quot;</span>)</a>
<a class="sourceLine" id="cb185-7" data-line-number="7">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater than y&quot;
## [1] &quot;x is greater than y and z&quot;</code></pre>
</div>
<div id="the-else-statement" class="section level3">
<h3><span class="header-section-number">2.6.3</span> The <code>else</code> statement</h3>
<p>Use <code>else</code> statement to execute a block of code, if the condition is false.</p>
<div class="figure">
<img src="if%20else%20statement.png" alt="Figure 3: if else statement syntax" />
<p class="caption">Figure 3: if else statement syntax</p>
</div>
<p>A Simple if-else comparison:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb187-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb187-3" data-line-number="3"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb187-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a>
<a class="sourceLine" id="cb187-5" data-line-number="5">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb187-6" data-line-number="6">  <span class="kw">print</span>(<span class="st">&quot;y is greater&quot;</span>)</a>
<a class="sourceLine" id="cb187-7" data-line-number="7">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1"><span class="co"># use the if function to check the second participant&#39;s pass/fail condition</span></a>
<a class="sourceLine" id="cb189-2" data-line-number="2"><span class="cf">if</span> (rate[<span class="dv">2</span>,<span class="dv">2</span>]<span class="op">==</span><span class="st">&quot;pass&quot;</span>){</a>
<a class="sourceLine" id="cb189-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;You are awesome!&quot;</span>)</a>
<a class="sourceLine" id="cb189-4" data-line-number="4">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb189-5" data-line-number="5">    <span class="kw">print</span>(<span class="st">&quot;Working harder&quot;</span>)</a>
<a class="sourceLine" id="cb189-6" data-line-number="6">          } </a></code></pre></div>
<pre><code>## [1] &quot;Working harder&quot;</code></pre>
</div>
<div id="the-else-if-statement" class="section level3">
<h3><span class="header-section-number">2.6.4</span> The <code>else if</code> statement</h3>
<p>Use <code>else if</code> statement to specify a new condition to test, if the first condition is false.</p>
<p>The <code>else if</code> statement allows you to further customize your control structure. You can add as many <code>else</code> if statements as you like.</p>
<div class="figure">
<img src="else%20if%20syntax.png" alt="Figure 4: else if statement syntax" />
<p class="caption">Figure 4: else if statement syntax</p>
</div>
<p>Using <code>else-if</code> statement</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb191-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb191-3" data-line-number="3"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb191-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a>
<a class="sourceLine" id="cb191-5" data-line-number="5">} <span class="cf">else</span> <span class="cf">if</span>(x <span class="op">&lt;</span><span class="st"> </span>y) {</a>
<a class="sourceLine" id="cb191-6" data-line-number="6">  <span class="kw">print</span>(<span class="st">&quot;y is greater&quot;</span>)</a>
<a class="sourceLine" id="cb191-7" data-line-number="7">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb191-8" data-line-number="8">  <span class="kw">print</span>(<span class="st">&quot;x and y are equal&quot;</span>)</a>
<a class="sourceLine" id="cb191-9" data-line-number="9">}</a></code></pre></div>
<pre><code>## [1] &quot;x and y are equal&quot;</code></pre>
<p>In R, you can use as many <code>else if</code> statements as you want in your program. There’s no limit. However, it’s not a best practice when you want to make series of decisions. You can use switch() function as an efficient way.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1"><span class="co"># This time we check the participant&#39;s studying time from &quot;rate&quot; data.</span></a>
<a class="sourceLine" id="cb193-2" data-line-number="2"><span class="co"># Check the first participant&#39;s studying time </span></a>
<a class="sourceLine" id="cb193-3" data-line-number="3"><span class="cf">if</span>(rate[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">&lt;=</span><span class="dv">7</span>){</a>
<a class="sourceLine" id="cb193-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;Study More&quot;</span>)</a>
<a class="sourceLine" id="cb193-5" data-line-number="5">  } <span class="cf">else</span> <span class="cf">if</span> (rate[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span> <span class="op">&amp;</span><span class="st"> </span>rate[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">&lt;</span><span class="dv">11</span>){</a>
<a class="sourceLine" id="cb193-6" data-line-number="6">    <span class="kw">print</span>(<span class="st">&quot;No pain No gain!&quot;</span>)</a>
<a class="sourceLine" id="cb193-7" data-line-number="7">  } <span class="cf">else</span> <span class="cf">if</span> (rate[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">&gt;=</span><span class="dv">11</span>) {</a>
<a class="sourceLine" id="cb193-8" data-line-number="8">      <span class="kw">print</span>(<span class="st">&quot;You are on fire！&quot;)</span></a>
<a class="sourceLine" id="cb193-9" data-line-number="9"><span class="st">    }</span></a></code></pre></div>
<pre><code>## [1] &quot;No pain No gain!&quot;</code></pre>
<p>Multiple Conditions:</p>
<p>To join two or more conditions into a single <code>if</code> statement, use logical operators viz. <code>&amp;&amp;</code> (and), <code>||</code> (or) and <code>!</code> (not). <code>&amp;&amp;</code> (and) expression is True, if all the conditions are true.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb195-3" data-line-number="3">z &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb195-4" data-line-number="4"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y <span class="op">&amp;&amp;</span><span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span>z) {</a>
<a class="sourceLine" id="cb195-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a>
<a class="sourceLine" id="cb195-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
<p><code>||</code> (or) expression is True, if at least one of the conditions is True.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb197-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb197-3" data-line-number="3">z &lt;-<span class="st"> </span><span class="dv">9</span></a>
<a class="sourceLine" id="cb197-4" data-line-number="4"><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span>y <span class="op">||</span><span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span>z) {</a>
<a class="sourceLine" id="cb197-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;x is greater than y or z&quot;</span>)</a>
<a class="sourceLine" id="cb197-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater than y or z&quot;</code></pre>
<p><code>!</code> (not) expression is True, if the condition is false.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb199-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb199-3" data-line-number="3"><span class="cf">if</span>(<span class="op">!</span>(x <span class="op">&lt;</span><span class="st"> </span>y)) {</a>
<a class="sourceLine" id="cb199-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>)</a>
<a class="sourceLine" id="cb199-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
</div>
<div id="one-line-ifelse" class="section level3">
<h3><span class="header-section-number">2.6.5</span> One Line If…Else</h3>
<p>If you have only one statement to execute, one for if , and one for else , you can put it all on the same line:</p>
<p><img src="one%20line%20if%20else.png" alt="Figure 5: One line if else syntax" />
Examples</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb201-3" data-line-number="3"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span>y) <span class="kw">print</span>(<span class="st">&quot;x is greater&quot;</span>) <span class="cf">else</span> <span class="kw">print</span>(<span class="st">&quot;y is greater&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;x is greater&quot;</code></pre>
<p>You can also use it to select variable assignment.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb203-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb203-3" data-line-number="3">max &lt;-<span class="st"> </span><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span>y) x <span class="cf">else</span> y</a>
<a class="sourceLine" id="cb203-4" data-line-number="4">max</a></code></pre></div>
<pre><code>## [1] 7</code></pre>
</div>
<div id="the-ifelse-function" class="section level3">
<h3><span class="header-section-number">2.6.6</span> The ifelse() Function</h3>
<p>In R, conditional statements are not vector operations. They deal only with a single value.</p>
<p>If you pass in, for example, a vector, the <code>if</code> statement will only check the very first element and issue a warning.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb205-2" data-line-number="2"><span class="cf">if</span>(v <span class="op">%%</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb205-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;odd&quot;</span>)</a>
<a class="sourceLine" id="cb205-4" data-line-number="4">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb205-5" data-line-number="5">  <span class="kw">print</span>(<span class="st">&quot;even&quot;</span>)</a>
<a class="sourceLine" id="cb205-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## Warning in if (v%%2) {: the condition has length &gt; 1 and only the first element
## will be used</code></pre>
<pre><code>## [1] &quot;odd&quot;</code></pre>
<p>The solution to this is the <code>ifelse()</code> function. The <code>ifelse()</code> function checks the condition for every element of a vector and selects elements from the specified vector depending upon the result.</p>
<p>Here’s the syntax for the <code>ifelse()</code> function.</p>
<div class="figure">
<img src="if%20else%20function.png" alt="Figure 6: if else function" />
<p class="caption">Figure 6: if else function</p>
</div>
<p>Example:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb208-2" data-line-number="2"><span class="kw">ifelse</span>(v <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="st">&quot;even&quot;</span>, <span class="st">&quot;odd&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot; &quot;odd&quot;  &quot;even&quot;</code></pre>
<p>You can even use this function to choose values from two vectors.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb210-2" data-line-number="2">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>,<span class="st">&quot;e&quot;</span>,<span class="st">&quot;f&quot;</span>)</a>
<a class="sourceLine" id="cb210-3" data-line-number="3"><span class="kw">ifelse</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>), v1, v2)</a></code></pre></div>
<pre><code>## [1] &quot;1&quot; &quot;b&quot; &quot;3&quot; &quot;d&quot; &quot;5&quot; &quot;f&quot;</code></pre>
</div>
<div id="r-switch-function" class="section level3">
<h3><span class="header-section-number">2.6.7</span> R switch() function</h3>
<p>The nested if…else statement is especially useful when you want to execute a certain block of code when a condition is met.</p>
<p>However, if you want to select values based only on a condition, you have a better option: Use the <code>switch()</code> function.</p>
<p>Here’s the syntax of the <code>switch()</code> function:</p>
<div class="figure">
<img src="switch%20function.png" alt="Figure 7: Switch function Syntax" />
<p class="caption">Figure 7: Switch function Syntax</p>
</div>
<p><code>switch()</code> with String Expression</p>
<p>If the expression is a character string, <code>switch()</code> will return the value based on the name of the element.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="co"># Select element by name and return its value</span></a>
<a class="sourceLine" id="cb212-2" data-line-number="2">x &lt;-<span class="st"> &quot;a&quot;</span></a>
<a class="sourceLine" id="cb212-3" data-line-number="3">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;b&quot;</span>=<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;c&quot;</span>=<span class="st">&quot;cherry&quot;</span>)</a>
<a class="sourceLine" id="cb212-4" data-line-number="4">v</a></code></pre></div>
<pre><code>## [1] &quot;apple&quot;</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1">x &lt;-<span class="st"> &quot;c&quot;</span></a>
<a class="sourceLine" id="cb214-2" data-line-number="2">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;b&quot;</span>=<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;c&quot;</span>=<span class="st">&quot;cherry&quot;</span>)</a>
<a class="sourceLine" id="cb214-3" data-line-number="3">v</a></code></pre></div>
<pre><code>## [1] &quot;cherry&quot;</code></pre>
<p>In case of multiple matches, the value of first matching element is returned.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="co"># Select first match and return its value</span></a>
<a class="sourceLine" id="cb216-2" data-line-number="2">x &lt;-<span class="st"> &quot;a&quot;</span></a>
<a class="sourceLine" id="cb216-3" data-line-number="3">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;apricot&quot;</span>, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;avocado&quot;</span>)</a>
<a class="sourceLine" id="cb216-4" data-line-number="4">v</a></code></pre></div>
<pre><code>## [1] &quot;apple&quot;</code></pre>
<p>Default case</p>
<p>In the case of no match, the unnamed element (if any) is returned. If there are more than one unnamed elements present, an error is raised.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="co"># Select unnamed element in the case of no match</span></a>
<a class="sourceLine" id="cb218-2" data-line-number="2">x &lt;-<span class="st"> &quot;z&quot;</span></a>
<a class="sourceLine" id="cb218-3" data-line-number="3">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;a&quot;</span>=<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;b&quot;</span>=<span class="st">&quot;banana&quot;</span>, <span class="st">&quot;c&quot;</span>=<span class="st">&quot;cherry&quot;</span>, <span class="st">&quot;grapes&quot;</span>)</a>
<a class="sourceLine" id="cb218-4" data-line-number="4">v</a></code></pre></div>
<pre><code>## [1] &quot;grapes&quot;</code></pre>
<p><code>switch()</code> with Numeric Expression</p>
<p>The numeric version of <code>switch()</code> works in a slightly different way. Instead of using names, the return value is determined purely with positional matching (Index).</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1"><span class="co"># Select element by position and return its value</span></a>
<a class="sourceLine" id="cb220-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb220-3" data-line-number="3">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>)</a>
<a class="sourceLine" id="cb220-4" data-line-number="4">v</a></code></pre></div>
<pre><code>## [1] &quot;apple&quot;</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb222-2" data-line-number="2">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>)</a>
<a class="sourceLine" id="cb222-3" data-line-number="3">v</a></code></pre></div>
<pre><code>## [1] &quot;cherry&quot;</code></pre>
<p>If the numeric value is out of range (greater than the number of choices), <code>NULL</code> is returned.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb224-2" data-line-number="2">v &lt;-<span class="st"> </span><span class="cf">switch</span>(x, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>)</a>
<a class="sourceLine" id="cb224-3" data-line-number="3">v</a></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="use-for-loop" class="section level3">
<h3><span class="header-section-number">2.6.8</span> Use “for” loop</h3>
<p>The <code>for</code> statement in R is a bit different from what you usually use in other programming languages.</p>
<p>Rather than iterating over a numeric progression, R’s <code>for</code> statement iterates over the items of a vector or a list. The items are iterated in the order that they appear in the vector.</p>
<div class="figure">
<img src="for%20loop%20syntax.png" alt="Figure 8: For Loop Syntax" />
<p class="caption">Figure 8: For Loop Syntax</p>
</div>
<p>Basic Examples</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="co"># Iterate through a vector</span></a>
<a class="sourceLine" id="cb226-2" data-line-number="2">colors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;yellow&quot;</span>)</a>
<a class="sourceLine" id="cb226-3" data-line-number="3"><span class="cf">for</span> (x <span class="cf">in</span> colors) {</a>
<a class="sourceLine" id="cb226-4" data-line-number="4">  <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb226-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] &quot;red&quot;
## [1] &quot;green&quot;
## [1] &quot;blue&quot;
## [1] &quot;yellow&quot;</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1"><span class="co"># Iterate through a list</span></a>
<a class="sourceLine" id="cb228-2" data-line-number="2">l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="fl">3.14</span>, <span class="st">&quot;Hi&quot;</span>, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb228-3" data-line-number="3"><span class="cf">for</span> (x <span class="cf">in</span> l) {</a>
<a class="sourceLine" id="cb228-4" data-line-number="4">  <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb228-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] 3.14
## [1] &quot;Hi&quot;
## [1] 1 2 3</code></pre>
<p>If you need to execute a group of statements for a specified number of times, use sequence operator : or built-in function <code>seq()</code></p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="co"># Print &#39;Hello!&#39; 3 times</span></a>
<a class="sourceLine" id="cb230-2" data-line-number="2"><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb230-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&quot;Hello!&quot;</span>)</a>
<a class="sourceLine" id="cb230-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;Hello!&quot;
## [1] &quot;Hello!&quot;
## [1] &quot;Hello!&quot;</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1"><span class="co"># Iterate a sequence and square each element</span></a>
<a class="sourceLine" id="cb232-2" data-line-number="2"><span class="cf">for</span> (x <span class="cf">in</span> <span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">2</span>,<span class="dt">to=</span><span class="dv">8</span>,<span class="dt">by=</span><span class="dv">2</span>)) {</a>
<a class="sourceLine" id="cb232-3" data-line-number="3">  <span class="kw">print</span>(x<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb232-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 4
## [1] 16
## [1] 36
## [1] 64</code></pre>
<p><code>for</code> Loop Without Curly Braces: If you have only one statement to execute, you can skip curly braces.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1"><span class="co"># Print the numbers 0 to 4</span></a>
<a class="sourceLine" id="cb234-2" data-line-number="2"><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">0</span><span class="op">:</span><span class="dv">4</span>) <span class="kw">print</span>(x)</a></code></pre></div>
<pre><code>## [1] 0
## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
<p>Nested for loop:</p>
<p>A nested for loop is a loop within a loop. They are useful for when you want to repeat something several times for several things.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="cf">for</span>(x <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb236-2" data-line-number="2">  <span class="cf">for</span>(y <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb236-3" data-line-number="3">    <span class="kw">print</span>(<span class="kw">paste</span>(x, y))</a>
<a class="sourceLine" id="cb236-4" data-line-number="4">  }</a>
<a class="sourceLine" id="cb236-5" data-line-number="5">}</a></code></pre></div>
<pre><code>## [1] &quot;1 1&quot;
## [1] &quot;1 2&quot;
## [1] &quot;2 1&quot;
## [1] &quot;2 2&quot;
## [1] &quot;3 1&quot;
## [1] &quot;3 2&quot;</code></pre>
<p><code>Break</code> in for Loop: In R, <code>break</code> statement is used to exit the loop immediately. It simply jumps out of the loop altogether, and the program continues after the loop.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="co"># Break the loop at &#39;blue&#39;</span></a>
<a class="sourceLine" id="cb238-2" data-line-number="2">colors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;yellow&quot;</span>)</a>
<a class="sourceLine" id="cb238-3" data-line-number="3"><span class="cf">for</span> (x <span class="cf">in</span> colors) {</a>
<a class="sourceLine" id="cb238-4" data-line-number="4">  <span class="cf">if</span> (x <span class="op">==</span><span class="st"> &quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb238-5" data-line-number="5">    <span class="cf">break</span></a>
<a class="sourceLine" id="cb238-6" data-line-number="6">  <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb238-7" data-line-number="7">}</a></code></pre></div>
<pre><code>## [1] &quot;red&quot;
## [1] &quot;green&quot;</code></pre>
<p>Next (continue) in for Loop: The next statement skips the current iteration of a loop and continues with the next iteration.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="co"># Skip &#39;blue&#39; using continue statement</span></a>
<a class="sourceLine" id="cb240-2" data-line-number="2">colors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;yellow&quot;</span>)</a>
<a class="sourceLine" id="cb240-3" data-line-number="3"><span class="cf">for</span> (x <span class="cf">in</span> colors) {</a>
<a class="sourceLine" id="cb240-4" data-line-number="4">  <span class="cf">if</span> (x <span class="op">==</span><span class="st"> &quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb240-5" data-line-number="5">    <span class="cf">next</span></a>
<a class="sourceLine" id="cb240-6" data-line-number="6">  <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb240-7" data-line-number="7">}</a></code></pre></div>
<pre><code>## [1] &quot;red&quot;
## [1] &quot;green&quot;
## [1] &quot;yellow&quot;</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="co"># Use the for loop to check whether they pass the exam</span></a>
<a class="sourceLine" id="cb242-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(rate)) {</a>
<a class="sourceLine" id="cb242-3" data-line-number="3">  <span class="cf">if</span> (rate[i,<span class="dv">2</span>]<span class="op">==</span><span class="st">&quot;pass&quot;</span>){</a>
<a class="sourceLine" id="cb242-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;You are awesome!&quot;</span>)</a>
<a class="sourceLine" id="cb242-5" data-line-number="5">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb242-6" data-line-number="6">    <span class="kw">print</span>(<span class="st">&quot;Working harder&quot;</span>)</a>
<a class="sourceLine" id="cb242-7" data-line-number="7">          } </a>
<a class="sourceLine" id="cb242-8" data-line-number="8">}</a></code></pre></div>
<pre><code>## [1] &quot;You are awesome!&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;You are awesome!&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;You are awesome!&quot;
## [1] &quot;You are awesome!&quot;
## [1] &quot;Working harder&quot;
## [1] &quot;You are awesome!&quot;
## [1] &quot;Working harder&quot;</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="co"># Use the for loop to check how much time they spent on studying</span></a>
<a class="sourceLine" id="cb244-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(rate)){</a>
<a class="sourceLine" id="cb244-3" data-line-number="3">  <span class="cf">if</span>(rate[i,<span class="dv">1</span>]<span class="op">&lt;=</span><span class="dv">7</span>){</a>
<a class="sourceLine" id="cb244-4" data-line-number="4">  <span class="kw">print</span>(<span class="st">&quot;Study More&quot;</span>)</a>
<a class="sourceLine" id="cb244-5" data-line-number="5">  } <span class="cf">else</span> <span class="cf">if</span> (rate[i,<span class="dv">1</span>]<span class="op">&gt;</span><span class="dv">7</span> <span class="op">&amp;</span><span class="st"> </span>rate[i,<span class="dv">1</span>]<span class="op">&lt;</span><span class="dv">11</span>){</a>
<a class="sourceLine" id="cb244-6" data-line-number="6">    <span class="kw">print</span>(<span class="st">&quot;No pain No gain!&quot;</span>)</a>
<a class="sourceLine" id="cb244-7" data-line-number="7">  } <span class="cf">else</span> <span class="cf">if</span> (rate[i,<span class="dv">1</span>]<span class="op">&gt;=</span><span class="dv">11</span>) {</a>
<a class="sourceLine" id="cb244-8" data-line-number="8">      <span class="kw">print</span>(<span class="st">&quot;You are on fire！&quot;)</span></a>
<a class="sourceLine" id="cb244-9" data-line-number="9"><span class="st">    }</span></a>
<a class="sourceLine" id="cb244-10" data-line-number="10"><span class="st">}</span></a></code></pre></div>
<pre><code>## [1] &quot;No pain No gain!&quot;
## [1] &quot;Study More&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;You are on fire！&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;Study More&quot;
## [1] &quot;Study More&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;No pain No gain!&quot;
## [1] &quot;No pain No gain!&quot;</code></pre>
</div>
<div id="r-repeat-loop" class="section level3">
<h3><span class="header-section-number">2.6.9</span> R Repeat Loop</h3>
<p>A <code>repeat</code> loop just repeats a block of code indefinitely. In this loop, no condition checking is performed in order to end the loop.</p>
<p>To stop repeating the loop, you must put a condition explicitly inside it with break statement. Failing to do so will create an infinite/endless loop.</p>
<div class="figure">
<img src="repeat%20syntax.png" alt="Figure 9: Repeat function Syntax" />
<p class="caption">Figure 9: Repeat function Syntax</p>
</div>
<p>Examples:</p>
<p>A repeat loop without a break statement results into an <em>infinite/endless</em> loop.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="co"># infinite loop</span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2"><span class="co"># repeat {</span></a>
<a class="sourceLine" id="cb246-3" data-line-number="3"><span class="co">#  print(&quot;Press Esc to stop me!&quot;)</span></a>
<a class="sourceLine" id="cb246-4" data-line-number="4"><span class="co"># }</span></a></code></pre></div>
<p>However, you can put a condition explicitly inside the body of the loop and use the break statement to exit the loop.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1"><span class="co"># Iterate until x becomes 5</span></a>
<a class="sourceLine" id="cb247-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb247-3" data-line-number="3"><span class="cf">repeat</span> {</a>
<a class="sourceLine" id="cb247-4" data-line-number="4">  <span class="kw">print</span>(x)</a>
<a class="sourceLine" id="cb247-5" data-line-number="5">  <span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb247-6" data-line-number="6">    <span class="cf">break</span></a>
<a class="sourceLine" id="cb247-7" data-line-number="7">  x &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb247-8" data-line-number="8">}</a></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
</div>
</div>
<div id="part-7-r-functions" class="section level2">
<h2><span class="header-section-number">2.7</span> Part 7: R functions</h2>
<div id="make-a-function-in-r" class="section level3">
<h3><span class="header-section-number">2.7.1</span> Make a function in R</h3>
<p>In simple terms, a function is a block of statements that can be used repeatedly in a program. R provides many built-in functions and allows programmers to define their own functions.</p>
<p>Here’s the syntax of a function in R:</p>
<div class="figure">
<img src="R%20function%20syntax.png" alt="Figure 10: Syntax of R function" />
<p class="caption">Figure 10: Syntax of R function</p>
</div>
<p>Create a Function: To define a function in R, use the <code>function</code> command and assign the results to a function name.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1"><span class="co"># Create a function &#39;myfunc&#39;</span></a>
<a class="sourceLine" id="cb249-2" data-line-number="2">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb249-3" data-line-number="3">  <span class="kw">print</span>(<span class="st">&#39;Hello, World!&#39;</span>)</a>
<a class="sourceLine" id="cb249-4" data-line-number="4">}</a></code></pre></div>
<p>If you have only one statement to execute, you can skip curly braces.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1"><span class="co"># Write a function in one line</span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>() <span class="kw">print</span>(<span class="st">&#39;Hello, World!&#39;</span>)</a></code></pre></div>
<p>Call a Function: You can call (run) the function by adding parentheses after the function’s name.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>() {</a>
<a class="sourceLine" id="cb251-2" data-line-number="2">  <span class="kw">print</span>(<span class="st">&#39;Hello, World!&#39;</span>)</a>
<a class="sourceLine" id="cb251-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb251-4" data-line-number="4"><span class="kw">myfunc</span>()</a></code></pre></div>
<pre><code>## [1] &quot;Hello, World!&quot;</code></pre>
<p>Pass Arguments: You can send information to a function through arguments. Arguments are declared after the function keyword in parentheses.</p>
<p>You can send as many arguments as you like, just separate them by a comma<code>,</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" data-line-number="1">sum &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb253-2" data-line-number="2">  x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb253-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb253-4" data-line-number="4"><span class="kw">sum</span>(<span class="dv">2</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Named Arguments: If you pass arguments to a function by name, you can put those arguments in any order.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" data-line-number="1">pow &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb255-2" data-line-number="2">  x <span class="op">^</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb255-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb255-4" data-line-number="4"></a>
<a class="sourceLine" id="cb255-5" data-line-number="5"><span class="co"># using argument names</span></a>
<a class="sourceLine" id="cb255-6" data-line-number="6"><span class="kw">pow</span>(<span class="dt">x=</span><span class="dv">2</span>, <span class="dt">y=</span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb257-1" data-line-number="1"><span class="co"># changing the order</span></a>
<a class="sourceLine" id="cb257-2" data-line-number="2"><span class="kw">pow</span>(<span class="dt">y=</span><span class="dv">3</span>, <span class="dt">x=</span><span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Default Argument Value: You can assign a default value to an argument. So, when you call the function without argument, it uses the default value.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb259-1" data-line-number="1"><span class="co"># Set default value ‘3’ to second argument</span></a>
<a class="sourceLine" id="cb259-2" data-line-number="2">pow &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">y=</span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb259-3" data-line-number="3">  x <span class="op">^</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb259-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb259-5" data-line-number="5"></a>
<a class="sourceLine" id="cb259-6" data-line-number="6"><span class="co"># function will use default y value</span></a>
<a class="sourceLine" id="cb259-7" data-line-number="7"><span class="kw">pow</span>(<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" data-line-number="1"><span class="co"># specifying a different y value</span></a>
<a class="sourceLine" id="cb261-2" data-line-number="2"><span class="kw">pow</span>(<span class="dv">2</span>, <span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 16</code></pre>
<p>Return a Value: To return a value from a function, simply use a <code>return()</code> function.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" data-line-number="1">sum &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb263-2" data-line-number="2">  <span class="kw">return</span>(x <span class="op">+</span><span class="st"> </span>y)</a>
<a class="sourceLine" id="cb263-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb263-4" data-line-number="4"></a>
<a class="sourceLine" id="cb263-5" data-line-number="5"><span class="kw">sum</span>(<span class="dv">2</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>If you do not include any <code>return()</code> function, it automatically returns the last expression.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" data-line-number="1">sum &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb265-2" data-line-number="2">  x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb265-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb265-4" data-line-number="4"></a>
<a class="sourceLine" id="cb265-5" data-line-number="5"><span class="kw">sum</span>(<span class="dv">2</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Return Multiple Values: You can return multiple values by saving the results in a vector (or a list) and returning it.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" data-line-number="1">math &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb267-2" data-line-number="2">  add &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb267-3" data-line-number="3">  sub &lt;-<span class="st"> </span>x <span class="op">-</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb267-4" data-line-number="4">  mul &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb267-5" data-line-number="5">  div &lt;-<span class="st"> </span>x <span class="op">/</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb267-6" data-line-number="6">  <span class="kw">c</span>(<span class="dt">addition =</span> add, <span class="dt">subtraction =</span> sub,</a>
<a class="sourceLine" id="cb267-7" data-line-number="7">    <span class="dt">multiplication =</span> mul, <span class="dt">division =</span> div)</a>
<a class="sourceLine" id="cb267-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb267-9" data-line-number="9"></a>
<a class="sourceLine" id="cb267-10" data-line-number="10"><span class="kw">math</span>(<span class="dv">6</span>, <span class="dv">3</span>)</a></code></pre></div>
<pre><code>##       addition    subtraction multiplication       division 
##              9              3             18              2</code></pre>
<p>Lazy Evaluation: R functions perform lazy evaluation that dramatically extends the expressive power of functions. It is the technique of not evaluating arguments unless and until they are needed in the function.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb269-1" data-line-number="1">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {</a>
<a class="sourceLine" id="cb269-2" data-line-number="2">  <span class="cf">if</span>(<span class="op">!</span>x){</a>
<a class="sourceLine" id="cb269-3" data-line-number="3">    <span class="kw">return</span>(y)</a>
<a class="sourceLine" id="cb269-4" data-line-number="4">  }</a>
<a class="sourceLine" id="cb269-5" data-line-number="5">  <span class="cf">else</span>{</a>
<a class="sourceLine" id="cb269-6" data-line-number="6">    <span class="kw">return</span>(x)</a>
<a class="sourceLine" id="cb269-7" data-line-number="7">  }</a>
<a class="sourceLine" id="cb269-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb269-9" data-line-number="9"></a>
<a class="sourceLine" id="cb269-10" data-line-number="10"><span class="co"># y is not evaluated so not including it causes no harm</span></a>
<a class="sourceLine" id="cb269-11" data-line-number="11"><span class="kw">myfunc</span>(<span class="dv">6</span>)</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb271-1" data-line-number="1"><span class="co"># y is evaluated so not including it raises error</span></a>
<a class="sourceLine" id="cb271-2" data-line-number="2"><span class="co"># myfunc(0)</span></a></code></pre></div>
<p>Variable Length Argument</p>
<p>In R, it is often convenient to accept a variable number of arguments passed to the function. To do this, you specify an ellipsis <code>(...)</code> in the arguments when defining a function.</p>
<p>For example, below function prints the first argument and then passes all the other arguments to the <code>summary()</code> function.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>(x,...) {<span class="kw">print</span>(x); <span class="kw">summary</span>(...)}</a>
<a class="sourceLine" id="cb272-2" data-line-number="2">v &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb272-3" data-line-number="3"></a>
<a class="sourceLine" id="cb272-4" data-line-number="4"><span class="kw">myfunc</span>(<span class="st">&quot;Summary of v:&quot;</span>, v)</a></code></pre></div>
<pre><code>## [1] &quot;Summary of v:&quot;</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    3.25    5.50    5.50    7.75   10.00</code></pre>
<p>You can also directly refer to the arguments within the argument list (…) through the variables ..1, ..2, to ..9.</p>
<p>For example, ..1 refers to the first argument, ..2 refers to the second, and so on.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb275-1" data-line-number="1">myfunc &lt;-<span class="st"> </span><span class="cf">function</span>(...) {<span class="kw">cat</span>(..<span class="dv">1</span>, ..<span class="dv">2</span>)}</a>
<a class="sourceLine" id="cb275-2" data-line-number="2"></a>
<a class="sourceLine" id="cb275-3" data-line-number="3"><span class="kw">myfunc</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;World!&quot;</span>)</a></code></pre></div>
<pre><code>## Hello World!</code></pre>
<p>It is also possible to read the arguments from the argument list by converting the object (…) to a list within the function body.</p>
<p>For example, below function simply sums all its arguments:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb277-1" data-line-number="1">addAll &lt;-<span class="st"> </span><span class="cf">function</span>(x,...) {</a>
<a class="sourceLine" id="cb277-2" data-line-number="2">  args &lt;-<span class="st"> </span><span class="kw">list</span>(...)</a>
<a class="sourceLine" id="cb277-3" data-line-number="3">  <span class="cf">for</span> (a <span class="cf">in</span> args) x &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span>a</a>
<a class="sourceLine" id="cb277-4" data-line-number="4">  x</a>
<a class="sourceLine" id="cb277-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb277-6" data-line-number="6"></a>
<a class="sourceLine" id="cb277-7" data-line-number="7"><span class="kw">addAll</span>(<span class="dv">1</span>,<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb279-1" data-line-number="1"><span class="kw">addAll</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 15</code></pre>
</div>
</div>
<div id="part-8-splitting-data-implicit-loops" class="section level2">
<h2><span class="header-section-number">2.8</span> Part 8: Splitting data &amp; implicit loops</h2>
<div id="splitting-the-data" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Splitting the data</h3>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb281-1" data-line-number="1"><span class="co"># Type in the data set with two variables &quot;time&quot; and &quot;status&quot;</span></a>
<a class="sourceLine" id="cb281-2" data-line-number="2"><span class="co"># Time means study hours that students spent on studying</span></a>
<a class="sourceLine" id="cb281-3" data-line-number="3"><span class="co"># Status is an indicator showing whether a candidate pass or fail the exam</span></a>
<a class="sourceLine" id="cb281-4" data-line-number="4">time=<span class="kw">c</span>(<span class="fl">9.2</span>,<span class="dv">7</span>,<span class="fl">7.1</span>,<span class="fl">8.2</span>,<span class="fl">10.1</span>,<span class="dv">11</span>,<span class="fl">9.3</span>,<span class="fl">4.5</span>,<span class="fl">6.6</span>,<span class="fl">7.9</span>,<span class="fl">10.8</span>,<span class="fl">7.8</span>,<span class="fl">8.3</span>)</a>
<a class="sourceLine" id="cb281-5" data-line-number="5">status=<span class="kw">c</span>(<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>,<span class="st">&quot;pass&quot;</span>,<span class="st">&quot;fail&quot;</span>)</a>
<a class="sourceLine" id="cb281-6" data-line-number="6"><span class="co"># Combine two variables into data frame &quot;rate&quot;</span></a>
<a class="sourceLine" id="cb281-7" data-line-number="7">rate=<span class="kw">data.frame</span>(time,status)</a>
<a class="sourceLine" id="cb281-8" data-line-number="8"><span class="co"># filter out how much time do participants spent when they passed the exams. </span></a>
<a class="sourceLine" id="cb281-9" data-line-number="9">sta.pass=rate<span class="op">$</span>time[rate<span class="op">$</span>status<span class="op">==</span><span class="st">&quot;pass&quot;</span>] </a>
<a class="sourceLine" id="cb281-10" data-line-number="10">sta.pass</a></code></pre></div>
<pre><code>## [1]  9.2 11.0  6.6  7.9  7.8</code></pre>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb283-1" data-line-number="1"><span class="co">### ? what is the meaning of this line </span></a>
<a class="sourceLine" id="cb283-2" data-line-number="2">sta.fail=rate<span class="op">$</span>time[rate<span class="op">$</span>status<span class="op">==</span><span class="st">&quot;fail&quot;</span>]</a>
<a class="sourceLine" id="cb283-3" data-line-number="3">sta.fail</a></code></pre></div>
<pre><code>## [1]  7.0  7.1  8.2 10.1  9.3  4.5 10.8  8.3</code></pre>
</div>
<div id="function-apply" class="section level3">
<h3><span class="header-section-number">2.8.2</span> Function “apply”</h3>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb285-1" data-line-number="1"><span class="co"># Use ?+function name to check the help document of certain function</span></a>
<a class="sourceLine" id="cb285-2" data-line-number="2">?matrix</a>
<a class="sourceLine" id="cb285-3" data-line-number="3"><span class="co"># Use function &quot;matrix&quot; and &quot;rnorm&quot; to build a random function</span></a>
<a class="sourceLine" id="cb285-4" data-line-number="4">m=<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">12</span>),<span class="dt">nrow =</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb285-5" data-line-number="5">m</a></code></pre></div>
<pre><code>##            [,1]       [,2]       [,3]
## [1,] -0.2310582 -0.8727234  0.2879897
## [2,]  0.6152249  0.9566820 -0.4296454
## [3,] -0.5646396  0.5621939 -0.9638422
## [4,]  0.3986325 -1.2661906  0.3580675</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb287-1" data-line-number="1"><span class="co"># Select the minimum value column wise </span></a>
<a class="sourceLine" id="cb287-2" data-line-number="2"><span class="kw">apply</span>(m,<span class="dv">2</span>,min) </a></code></pre></div>
<pre><code>## [1] -0.5646396 -1.2661906 -0.9638422</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb289-1" data-line-number="1"><span class="co"># the second argument: 1 is set to &quot;row&quot;, 2 is set to &quot;column&quot;</span></a>
<a class="sourceLine" id="cb289-2" data-line-number="2"><span class="co"># the function min() is applied to each column </span></a>
<a class="sourceLine" id="cb289-3" data-line-number="3"><span class="co"># Select the minimum value row wise </span></a>
<a class="sourceLine" id="cb289-4" data-line-number="4"><span class="kw">apply</span>(m,<span class="dv">1</span>,min) </a></code></pre></div>
<pre><code>## [1] -0.8727234 -0.4296454 -0.9638422 -1.2661906</code></pre>
</div>
<div id="another-example" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Another example</h3>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb291-1" data-line-number="1"><span class="co"># Generate a matrix x</span></a>
<a class="sourceLine" id="cb291-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">x1 =</span> <span class="kw">rep</span>(<span class="dv">3</span>,<span class="dv">8</span>), <span class="dt">x2 =</span> <span class="kw">c</span>(<span class="dv">4</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>)) </a>
<a class="sourceLine" id="cb291-3" data-line-number="3"><span class="co"># Give rownames:a to h</span></a>
<a class="sourceLine" id="cb291-4" data-line-number="4"><span class="kw">dimnames</span>(x)[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>]</a>
<a class="sourceLine" id="cb291-5" data-line-number="5"><span class="co"># Use function sum() apply to each column</span></a>
<a class="sourceLine" id="cb291-6" data-line-number="6"><span class="co"># Clean the environment, then run the following function</span></a>
<a class="sourceLine" id="cb291-7" data-line-number="7"><span class="co"># col.sums &lt;- apply(x, 2, sum) </span></a>
<a class="sourceLine" id="cb291-8" data-line-number="8"><span class="co"># Use function sum() apply to each row</span></a>
<a class="sourceLine" id="cb291-9" data-line-number="9"><span class="co"># row.sums &lt;- apply(x, 1, sum)</span></a>
<a class="sourceLine" id="cb291-10" data-line-number="10"><span class="co"># Generate a table for the row sums, column sums and grand total</span></a>
<a class="sourceLine" id="cb291-11" data-line-number="11"><span class="co"># rbind(cbind(x, Rtot = row.sums), Ctot = c(col.sums, sum(col.sums)))</span></a></code></pre></div>
</div>
<div id="use-function-lapply" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Use function “lapply”</h3>
<p>The function lapply() applies over a list or a vector</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" data-line-number="1"><span class="co"># Build a list</span></a>
<a class="sourceLine" id="cb292-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">beta =</span> <span class="kw">exp</span>(<span class="op">-</span><span class="dv">3</span><span class="op">:</span><span class="dv">3</span>), <span class="dt">logic =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb292-3" data-line-number="3"><span class="co"># Compute the list mean for each list element</span></a>
<a class="sourceLine" id="cb292-4" data-line-number="4"><span class="kw">lapply</span>(x,mean)</a></code></pre></div>
<pre><code>## $a
## [1] 5.5
## 
## $beta
## [1] 4.535125
## 
## $logic
## [1] 0.5</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="co"># Quantiles for each list element 0.25 0.50 0.75</span></a>
<a class="sourceLine" id="cb294-2" data-line-number="2"><span class="kw">lapply</span>(x, quantile, <span class="dt">probs =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span><span class="op">/</span><span class="dv">4</span>) </a></code></pre></div>
<pre><code>## $a
##  25%  50%  75% 
## 3.25 5.50 7.75 
## 
## $beta
##       25%       50%       75% 
## 0.2516074 1.0000000 5.0536690 
## 
## $logic
## 25% 50% 75% 
## 0.0 0.5 1.0</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Prob.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Bayes_R_Book.pdf", "Bayes_R_Book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
